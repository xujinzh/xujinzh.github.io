<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>J. Xu - 众妙之门</title><meta name="author" content="Jinzhong Xu"><meta name="copyright" content="Jinzhong Xu"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="众妙之门">
<meta property="og:type" content="website">
<meta property="og:title" content="J. Xu">
<meta property="og:url" content="https://xujinzh.github.io/page/36/index.html">
<meta property="og:site_name" content="J. Xu">
<meta property="og:description" content="众妙之门">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://xujinzh.github.io/img/silence.jpg">
<meta property="article:author" content="Jinzhong Xu">
<meta property="article:tag" content="数学、计算机视觉、计算机应用技术">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://xujinzh.github.io/img/silence.jpg"><link rel="shortcut icon" href="/img/letter-j.png"><link rel="canonical" href="https://xujinzh.github.io/page/36/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'J. Xu',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2026-01-19 09:27:58'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/silence.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">416</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">321</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">28</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="J. Xu"><img class="site-icon" src="/img/letter-j.png"/><span class="site-name">J. Xu</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2019/12/22/blog-construct/" title="如何使用服务器搭建博客"><img class="post-bg" src="/img/c7.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="如何使用服务器搭建博客"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/12/22/blog-construct/" title="如何使用服务器搭建博客">如何使用服务器搭建博客</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2019-12-21T16:00:00.000Z" title="发表于 2019-12-22 00:00:00">2019-12-22</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.092Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/blog/">blog</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/server/">server</a></span></div><div class="content">参照博文《Website for Students》或《How to Install WordPress with LAMP Stack on Ubuntu 18.04》进行搭建.
在Ubuntu18.04上，分别按照《Website for Students》和文章《How to Install WordPress with LAMP Stack on Ubuntu 18.04》搭建网站时，发现第一篇文章能够成功进入WordPress，而第二篇文章无法配置WordPress，经分析后通过命令 


1apt install php-mysql

进行修复，成功进入WordPress配置页面。
下面根据前面两篇文章总结出一个搭建网站的方法，一共分为7步：
Step 1: Connect to your ServerStep 2: Apache Web Server InstallationStep 3: Install PHPStep 4: Install the MySQL Database serverStep 5: Create a Database for WordPressS ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2019/12/21/3d-dl-intro/" title="三维深度学习简单介绍"><img class="post-bg" src="/img/c6.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="三维深度学习简单介绍"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/12/21/3d-dl-intro/" title="三维深度学习简单介绍">三维深度学习简单介绍</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2019-12-20T16:00:00.000Z" title="发表于 2019-12-21 00:00:00">2019-12-21</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.088Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/research/">research</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/3d/">3d</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/dl/">dl</a></span></div><div class="content">文章《超越像素平面：聚焦 3D 深度学习的现在和未来》（英文版对应《Beyond the pixel plane: sensing and learning in 3D》）中介绍了三维数据的获取，表示，以及三维深度学习的进展。


三维数据的获取可以通过

立体视觉系统（多目相机）
RGB-D（结构光和 TOF）

三维数据的表示形式包含

点云数据
体素网格点
多边形网格
多视角表示

三维深度学习最新研究趋势

以基于点云数据为研究对象的 PointNet 为开端，流行的方法是结合点云数据和多视角的二维图像数据作为深度学习网络的输入

</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2019/12/21/3d-reconstruction/" title="三维重建简单综述"><img class="post-bg" src="/img/c25.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="三维重建简单综述"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/12/21/3d-reconstruction/" title="三维重建简单综述">三维重建简单综述</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2019-12-20T16:00:00.000Z" title="发表于 2019-12-21 00:00:00">2019-12-21</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.088Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/research/">research</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/3d/">3d</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/dl/">dl</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/study/">study</a></span></div><div class="content">文章《基于深度学习的视觉三维重建研究总结》从三维重建的意义、定义、表示方式、分类开始，总结了深度学习在三维重建方向的最近几年（截至2019年）的进展，分别是


从单张图像恢复深度图的文章《Depth Map Prediction from a Single Image using a Multi-Scale Deep Network》，是深度学习进行三维重建的开山之作，由粗到细并提出尺度不变的损失函数。单视图或多视图的体素三维重建文章《3D-R2N2: A Unified Approach for Single and Multi-view 3D Object Reconstruction》结合编码解码网络和LSTM，既可以对单幅图像做三维图像体素重建，又可以对多幅图像做。单张RGB图像的点云三维重建文章《A Point Set Generation Network for 3D Object Reconstruction from a Single Image》用1024个点云数据表示物体的三维重建，并提出了CD（Chamfer Distance）和 EMD（Earth Mover ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2019/12/21/Python-deepcopy-copy/" title="Python 中 deepcopy, copy, 赋值的区别"><img class="post-bg" src="/img/c13.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python 中 deepcopy, copy, 赋值的区别"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/12/21/Python-deepcopy-copy/" title="Python 中 deepcopy, copy, 赋值的区别">Python 中 deepcopy, copy, 赋值的区别</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2019-12-20T16:00:00.000Z" title="发表于 2019-12-21 00:00:00">2019-12-21</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.088Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/python/">python</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/copy/">copy</a></span></div><div class="content">Python 中数据对象分为三类，一类是不可变对象，如元组、字符串、数值；一类为单层可变对象，如列表 L &#x3D; [1, 2, 3]，字典 D &#x3D; {‘x’: 1, ‘y’: 2}；最后一类是多层可变对象，即可变对象中嵌套有可变对象，如列表 L &#x3D; [1, [1, 2], 3]，字典 D &#x3D; {‘x’: [1, 2], ‘y’ &#x3D; 3}。


Python 中拷贝也分为三类， 一类是赋值 ‘&#x3D;’;   一类是浅层拷贝 copy.copy(); 一类是深层拷贝 copy.deepcopy()，它们表现了对数据操作的不同程度。赋值’&#x3D;’是对数据对象“打上标签”, 而不对具体的数值操作，是一种指向操作。深层拷贝是真正意义上的拷贝一份，创造出两个完全意义的数据对象，在内存中开辟一个空间来存储数值。浅层拷贝对于对于不可变对象和单层可变对象开辟一个内存空间来存储数值，但是只存储“一层”，对于多层可变对象数据，不能够嵌套拷贝，因为嵌套的可变对象在多层可变对象中是以索引或标签的形式存储的。
举一些例子：
对于固定值的不可变对象，三者一样 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2019/12/21/cv-sci/" title="计算机视觉方向顶级会议和顶级期刊"><img class="post-bg" src="/img/c4.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="计算机视觉方向顶级会议和顶级期刊"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/12/21/cv-sci/" title="计算机视觉方向顶级会议和顶级期刊">计算机视觉方向顶级会议和顶级期刊</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2019-12-20T16:00:00.000Z" title="发表于 2019-12-21 00:00:00">2019-12-21</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.092Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/research/">research</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/cv/">cv</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/sci/">sci</a></span></div><div class="content">计算机视觉（Computer Vision，简称 CV）方向是一个非常热门的方向，有关 CV 的会议和期刊因此也有很多，这里我介绍 CV 方向的三个顶级会议和两个顶级期刊。
三大顶会
CV 方向的顶级会议包括国际计算机视觉大会（IEEE International Conference on Computer Vision，简称 ICCV）、欧洲计算机视觉会议（European Conference on Computer Vision，简称 ECCV）、国际计算机视觉与模式识别会议（Conference on Computer Vision and Pattern Recognition，简称 CVPR），下面分别介绍它们。
ICCV 
ICCV 是由电气电子工程师学会（Institute of Electrical and Electronics Engineers，简称 IEEE）于 1987 年发起和主办，隔一年举行一次，因此都是在奇数年举行。会议通常需要 4-5 天，最近有延长的趋势，举办地不固定，今年（2019 年）ICCV 将于 10 月 27 日（星期日）到 11 月  ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2019/12/21/dl-gpu/" title="深度学习的 GPU 环境的配置"><img class="post-bg" src="/img/c8.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="深度学习的 GPU 环境的配置"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/12/21/dl-gpu/" title="深度学习的 GPU 环境的配置">深度学习的 GPU 环境的配置</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2019-12-20T16:00:00.000Z" title="发表于 2019-12-21 00:00:00">2019-12-21</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-06-10T14:22:18.224Z" title="更新于 2024-06-10 22:22:18">2024-06-10</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/technology/ubuntu/">ubuntu</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/dl/">dl</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/gpu/">gpu</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/cuda/">cuda</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/nvcc/">nvcc</a></span></div><div class="content">本篇介绍如何在 Linux 服务器上安装 NVIDIA Driver（NVIDIA GPU 显卡驱动），CUDA Toolkit（GPU 通用并行计算架构)，CUDA Deep Neural Network (cuDNN，CUDA 深度神经网络库），NVIDIA Collective Communications Library (NCCL，NVIDIA 集合通信库) 和 apex (NVIDIA&#x2F;apex: A PyTorch Extension). 以 Ubuntu 18.04.6 LTS 为例进行介绍。


安装 NVIDIA Driver 和 CUDA Toolkit 需要考虑版本兼容问题，查看官方网站获取版本兼容对应关系。
NVIDIA Driver该模块就是安装显卡驱动。
ubuntu18.04-nvidia drivers 10.2

其实该步骤安装可以省略，在下一节安装 CUDA-TOOLKIT 时可同时选择安装驱动 NVIDIA-DRIVERS 
1234567891011121314# 安装前需退出 X-SERVER，如 xorg 等，保证 `lsmod  ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2019/12/21/latex-chinese/" title="LaTeX 中文模版"><img class="post-bg" src="/img/c19.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="LaTeX 中文模版"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/12/21/latex-chinese/" title="LaTeX 中文模版">LaTeX 中文模版</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2019-12-20T16:00:00.000Z" title="发表于 2019-12-21 00:00:00">2019-12-21</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.096Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/maths/">maths</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/latex/">latex</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/template/">template</a></span></div><div class="content">$\LaTeX$ - 中文（模板）
有些初使用 $\LaTeX$ 进行中文写作的作者，总是会遇到不能正确利用 $\LaTeX$ 编译中文文档的问题，这里总结出一个模板，来帮助这些作者方便进行 $\LaTeX$ 中文写作，具体步骤如下：

添加如下代码
XeLaTeX编译执行

（注意：生成目录需要编译两次）
具体 $\LaTeX$ 代码如下：


123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657\documentclass[a4paper, 12pt]&#123;article&#125;\usepackage&#123;geometry&#125;%\usepackage[UTF8, heading = false, scheme = plain]&#123;ctex&#125;%格式\usepackage&#123;ctex&#125;%\usepackage&#123;authblk&#125; %添加机构，需要安装pr ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2019/12/21/linux-memory/" title="查看内存消耗排序情况"><img class="post-bg" src="/img/c23.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="查看内存消耗排序情况"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/12/21/linux-memory/" title="查看内存消耗排序情况">查看内存消耗排序情况</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2019-12-20T16:00:00.000Z" title="发表于 2019-12-21 00:00:00">2019-12-21</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.100Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/ubuntu/">ubuntu</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/linux/">linux</a></span></div><div class="content">在终端运行如下命令
1ps -aux | sort -k4nr | head -n 25

查看占用内存从大到小的25个进程
</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2019/12/21/linux-port/" title="Linux端口占用情况查询与释放端口"><img class="post-bg" src="/img/c25.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux端口占用情况查询与释放端口"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/12/21/linux-port/" title="Linux端口占用情况查询与释放端口">Linux端口占用情况查询与释放端口</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2019-12-20T16:00:00.000Z" title="发表于 2019-12-21 00:00:00">2019-12-21</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.100Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/linux/">linux</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/port/">port</a></span></div><div class="content">查询特定端口占用情况：
1root@ip-172-26-1-96:/# netstat -ntulp | grep 8080

1tcp        0      0 127.0.0.1:8080          0.0.0.0:*               LISTEN      5759/filebrowser

结果最后一位分别是进程id&#x2F;进程名，使用如下方法杀死进程：


1root@ip-172-26-1-96:/# kill 5759

再次查看端口得到释放
1root@ip-172-26-1-96:/# netstat -ntulp | grep 8080

更多方法，请参考：[Linux 端口占用与释放](
123456title: Linux端口占用情况查询与释放端口date: 2019.12.21tags:- linux- portcategories: technology

查询特定端口占用情况：
12root@ip-172-26-1-96:/# netstat -ntulp | grep 8080tcp        0      0 127. ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2019/12/21/mbp-bash-to-zsh/" title="Mac Book Pro 更改 bash 为 zsh"><img class="post-bg" src="/img/c16.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Mac Book Pro 更改 bash 为 zsh"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/12/21/mbp-bash-to-zsh/" title="Mac Book Pro 更改 bash 为 zsh">Mac Book Pro 更改 bash 为 zsh</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2019-12-20T16:00:00.000Z" title="发表于 2019-12-21 00:00:00">2019-12-21</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-02-22T08:35:28.615Z" title="更新于 2024-02-22 16:35:28">2024-02-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/shell/">shell</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/mbp/">mbp</a></span></div><div class="content">zsh 相较于 bash 有更多的方便，如更强大的命令补全、支持更方便的历史命令搜索等。本篇介绍如何从 bash 切换为 zsh.


切换 zsh1234chsh -s /bin/zsh# 有时 Centos 上没有自动安装工具 chsh，可使用如下方法安装sudo yum install util-linux-user

安装 oh-my-zsh1sh -c &quot;$(wget -O- https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&quot;

使用主题12345678910vim ~/.zshrc# 指定主题，如好用的 ys：ZSH_THEME=&quot;ys&quot;# 终端动态更新提示符PS1时间TMOUT=1TRAPALRM() &#123;    zle reset-prompt&#125;</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2019/12/21/server-pan/" title="在服务器上搭建个人网盘"><img class="post-bg" src="/img/c24.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="在服务器上搭建个人网盘"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/12/21/server-pan/" title="在服务器上搭建个人网盘">在服务器上搭建个人网盘</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2019-12-20T16:00:00.000Z" title="发表于 2019-12-21 00:00:00">2019-12-21</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.104Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/technology/computer-science/">computer science</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/linux/">linux</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/cloud/">cloud</a></span></div><div class="content">本篇通过 filebrowser 在服务器上搭建个人网盘。本篇以 Ubuntu 为例，以普通用户身份允许命令。


安装 filebrowserfilebrowser 官网上推荐的安装方法如下：
1curl -fsSL https://raw.githubusercontent.com/filebrowser/get/master/get.sh | bash

也可以直接到 Github上地址：https://github.com/filebrowser/filebrowser 下载最新版安装。
1234567cdFILEBROWSERVERSION=$(curl -fsSL https://api.github.com/repos/filebrowser/filebrowser/releases | grep tag_name | sed -E &#x27;s/.*&quot;(.*)&quot;.*/\1/&#x27;| head -n1)wget https://github.com/filebrowser/filebrowser/releases/download/$FILEB ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/35/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/35/#content-inner">35</a><span class="page-number current">36</span><a class="page-number" href="/page/37/#content-inner">37</a><a class="page-number" href="/page/38/#content-inner">38</a><a class="extend next" rel="next" href="/page/37/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/silence.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Jinzhong Xu</div><div class="author-info__description">众妙之门</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">416</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">321</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">28</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xujinzh"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/xujinzh" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:xujinzhong027@outlook.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://www.mathscv.com" target="_blank" title="MathsCVBlog"><i class="fab fa-j"></i></a><a class="social-icon" href="https://xujinzh.github.io" target="_blank" title="GitHubBlog"><i class="fab fa-github-alt"></i></a><a class="social-icon" href="https://www.mathscv.com/power" target="_blank" title="MathsCVPower"><i class="fab fa-m"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">日本核污染水强排入海！</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/12/12/mac-efi-mount-operate/" title="mac 挂载和操作 EFI 双系统启动向导"><img src="/img/c7.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="mac 挂载和操作 EFI 双系统启动向导"/></a><div class="content"><a class="title" href="/2025/12/12/mac-efi-mount-operate/" title="mac 挂载和操作 EFI 双系统启动向导">mac 挂载和操作 EFI 双系统启动向导</a><time datetime="2025-12-11T16:10:48.000Z" title="发表于 2025-12-12 00:10:48">2025-12-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/04/24/windows-office-delete-review-revise/" title="word 中快速的删除或接收修订"><img src="/img/c22.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="word 中快速的删除或接收修订"/></a><div class="content"><a class="title" href="/2025/04/24/windows-office-delete-review-revise/" title="word 中快速的删除或接收修订">word 中快速的删除或接收修订</a><time datetime="2025-04-24T14:05:36.000Z" title="发表于 2025-04-24 22:05:36">2025-04-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/12/16/cplusplus-opencv/" title="c++ 中调用 opencv"><img src="/img/c26.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="c++ 中调用 opencv"/></a><div class="content"><a class="title" href="/2024/12/16/cplusplus-opencv/" title="c++ 中调用 opencv">c++ 中调用 opencv</a><time datetime="2024-12-16T09:33:13.000Z" title="发表于 2024-12-16 17:33:13">2024-12-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/12/16/ubuntu-aptitude/" title="ubuntu 包管理工具 aptitude"><img src="/img/c30.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ubuntu 包管理工具 aptitude"/></a><div class="content"><a class="title" href="/2024/12/16/ubuntu-aptitude/" title="ubuntu 包管理工具 aptitude">ubuntu 包管理工具 aptitude</a><time datetime="2024-12-16T06:38:39.000Z" title="发表于 2024-12-16 14:38:39">2024-12-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/12/02/linux-transport-endpoint-is-not-connected/" title="transport endpoint is not connected"><img src="/img/c3.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="transport endpoint is not connected"/></a><div class="content"><a class="title" href="/2024/12/02/linux-transport-endpoint-is-not-connected/" title="transport endpoint is not connected">transport endpoint is not connected</a><time datetime="2024-12-02T05:37:05.000Z" title="发表于 2024-12-02 13:37:05">2024-12-02</time></div></div></div></div><div class="card-widget" id="card-newest-comments"><div class="item-headline"><i class="fas fa-comment-dots"></i><span>最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/"><span class="card-category-list-name">maths</span><span class="card-category-list-count">34</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/algebra/"><span class="card-category-list-name">algebra</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/application/"><span class="card-category-list-name">application</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/mathematical-analysis/"><span class="card-category-list-name">mathematical analysis</span><span class="card-category-list-count">22</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/mathematician/"><span class="card-category-list-name">mathematician</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/optimization/"><span class="card-category-list-name">optimization</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/probability/"><span class="card-category-list-name">probability</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/topology/"><span class="card-category-list-name">topology</span><span class="card-category-list-count">1</span></a></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/pyinstaller/" style="font-size: 1.1em; color: #999">pyinstaller</a> <a href="/tags/udp/" style="font-size: 1.1em; color: #999">udp</a> <a href="/tags/logging/" style="font-size: 1.1em; color: #999">logging</a> <a href="/tags/trickle/" style="font-size: 1.1em; color: #999">trickle</a> <a href="/tags/realsense-ros/" style="font-size: 1.1em; color: #999">realsense-ros</a> <a href="/tags/visdom/" style="font-size: 1.1em; color: #999">visdom</a> <a href="/tags/tensorrt/" style="font-size: 1.1em; color: #999">tensorrt</a> <a href="/tags/import/" style="font-size: 1.23em; color: #999ea6">import</a> <a href="/tags/systemd/" style="font-size: 1.1em; color: #999">systemd</a> <a href="/tags/nvcc/" style="font-size: 1.1em; color: #999">nvcc</a> <a href="/tags/virtualbox/" style="font-size: 1.23em; color: #999ea6">virtualbox</a> <a href="/tags/next/" style="font-size: 1.1em; color: #999">next</a> <a href="/tags/cmake/" style="font-size: 1.37em; color: #99a4b2">cmake</a> <a href="/tags/eof/" style="font-size: 1.1em; color: #999">eof</a> <a href="/tags/stable-diffusion/" style="font-size: 1.1em; color: #999">stable diffusion</a> <a href="/tags/group/" style="font-size: 1.1em; color: #999">group</a> <a href="/tags/nvidia-smi/" style="font-size: 1.1em; color: #999">nvidia-smi</a> <a href="/tags/antiderivatiive/" style="font-size: 1.23em; color: #999ea6">antiderivatiive</a> <a href="/tags/libstdc/" style="font-size: 1.1em; color: #999">libstdc</a> <a href="/tags/java/" style="font-size: 1.5em; color: #99a9bf">java</a> <a href="/tags/vim/" style="font-size: 1.23em; color: #999ea6">vim</a> <a href="/tags/redmine/" style="font-size: 1.23em; color: #999ea6">redmine</a> <a href="/tags/limit/" style="font-size: 1.1em; color: #999">limit</a> <a href="/tags/dice/" style="font-size: 1.1em; color: #999">dice</a> <a href="/tags/apscheduler/" style="font-size: 1.1em; color: #999">apscheduler</a> <a href="/tags/zsh/" style="font-size: 1.1em; color: #999">zsh</a> <a href="/tags/apt/" style="font-size: 1.23em; color: #999ea6">apt</a> <a href="/tags/STM/" style="font-size: 1.1em; color: #999">STM</a> <a href="/tags/audio/" style="font-size: 1.1em; color: #999">audio</a> <a href="/tags/sin/" style="font-size: 1.1em; color: #999">sin</a> <a href="/tags/vps/" style="font-size: 1.1em; color: #999">vps</a> <a href="/tags/cpulimit/" style="font-size: 1.1em; color: #999">cpulimit</a> <a href="/tags/history/" style="font-size: 1.1em; color: #999">history</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/12/"><span class="card-archive-list-date">十二月 2025</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/04/"><span class="card-archive-list-date">四月 2025</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/12/"><span class="card-archive-list-date">十二月 2024</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/11/"><span class="card-archive-list-date">十一月 2024</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/09/"><span class="card-archive-list-date">九月 2024</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/08/"><span class="card-archive-list-date">八月 2024</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/07/"><span class="card-archive-list-date">七月 2024</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/04/"><span class="card-archive-list-date">四月 2024</span><span class="card-archive-list-count">5</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">416</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2019-07-16T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">475.9k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2026-01-19T01:27:55.391Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background: transparent"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2026 By Jinzhong Xu</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const findTrueUrl = (array) => {
    Promise.all(array.map(item =>
      fetch(item.url).then(resp => resp.json()).then(data => {
        const urlArray = data.body.match(/(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?/ig)
        if (data.user.login === 'utterances-bot') {
          return urlArray.pop()
        } else {
          return urlArray.shift()
        }
      })
    )).then(res => {
        array = array.map((i,index)=> {
          return {
            ...i,
            url: res[index]
          }
        })

        saveToLocal.set('github-newest-comments', JSON.stringify(array), 10/(60*24))
        generateHtml(array)
    });
  }

  const getComment = () => {
    fetch('https://api.github.com/repos/xujinzh/xujinzh.github.io/issues/comments?sort=updated&direction=desc&per_page=6&page=1',{
      "headers": {
        Accept: 'application/vnd.github.v3.html+json'
      }
    })
      .then(response => response.json())
      .then(data => {
        const githubArray = data.map(item => {
          return {
            'avatar': item.user.avatar_url,
            'content': changeContent(item.body_html),
            'nick': item.user.login,
            'url': item.issue_url,
            'date': item.updated_at,
            'githubUrl': item.html_url
          }
        })
        findTrueUrl(githubArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "无法获取评论，请确认相关配置是否正确"
      })
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }

        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('github-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><canvas class="fireworks" mobile="true"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = true;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="true"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="true" data-text="众,妙,之,门" data-fontsize="15px" data-random="false" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></body></html>