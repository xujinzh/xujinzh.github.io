<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>J. Xu - 众妙之门</title><meta name="author" content="Jinzhong Xu"><meta name="copyright" content="Jinzhong Xu"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="众妙之门">
<meta property="og:type" content="website">
<meta property="og:title" content="J. Xu">
<meta property="og:url" content="https://xujinzh.github.io/page/11/index.html">
<meta property="og:site_name" content="J. Xu">
<meta property="og:description" content="众妙之门">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://xujinzh.github.io/img/silence.jpg">
<meta property="article:author" content="Jinzhong Xu">
<meta property="article:tag" content="数学、计算机视觉、计算机应用技术">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://xujinzh.github.io/img/silence.jpg"><link rel="shortcut icon" href="/img/letter-j.png"><link rel="canonical" href="https://xujinzh.github.io/page/11/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'J. Xu',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-01-31 15:57:21'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/silence.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">384</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">296</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">25</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="J. Xu"><img class="site-icon" src="/img/letter-j.png"/><span class="site-name">J. Xu</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2022/05/25/nvidia-driver-library-version-mismatch/" title="nvidia driver 和 library version mismatch"><img class="post-bg" src="/img/c9.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="nvidia driver 和 library version mismatch"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/25/nvidia-driver-library-version-mismatch/" title="nvidia driver 和 library version mismatch">nvidia driver 和 library version mismatch</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-05-25T09:37:38.000Z" title="发表于 2022-05-25 17:37:38">2022-05-25</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.100Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/technology/ubuntu/">ubuntu</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/nvidia/">nvidia</a></span></div><div class="content">深度学习模型往往需要 GPU 加速计算，因此，需要为服务器安装 NVIDIA 驱动。但，因为系统（如 Ubuntu）有自动更新往往会导致 NVIDIA 驱动版本和库版本不匹配，导致 nvidia-smi 命令无法使用。本篇以 Ubuntu 系统为例，所有命令以普通用户运行，有些命令需要 sudo 权限。


问题描述当在 Ubuntu 系统上安装了显卡驱动后，因为 Ubuntu 上的命令 /usr/bin/unattended-upgrade 会在后台自动更新系统，如安全相关的补丁内容等。有时候，会自动更新 NVIDIA 的驱动（查看自动更新历史：cat /var/log/apt/history.log）。这会导致系统运行中的 NVIDIA 驱动版本（查看方法：cat /proc/driver/nvidia/version）与安装的驱动版本（查看方法：sudo dpkg -l | grep nvidia）不一致。最终导致，查看显卡信息的命令：nvidia-smi 无法使用，报如下错误：
12$ nvidia-smiFailed to initialize NVML: Driver/li ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/05/23/conda-update-python/" title="conda 更新 python 版本"><img class="post-bg" src="/img/c10.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="conda 更新 python 版本"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/23/conda-update-python/" title="conda 更新 python 版本">conda 更新 python 版本</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-05-23T03:57:42.000Z" title="发表于 2022-05-23 11:57:42">2022-05-23</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.092Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/technology/python/">python</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/python/">python</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/conda/">conda</a></span></div><div class="content"> 当使用 Miniconda 安装 Python 后，除了使用虚拟环境外，有时，我们还需要更新主环境中的 Python 版本，本篇介绍如何更新主环境中的 Python 版本到最新。


当主环境版本不需要大版本更新时当主环境的 Python 版本不需要大版本更新时，如最初安装的 Python 版本是 3.9.5，现在 Python 官网已经发布了 3.9.13，此时，我们更新小版本到 Anaconda 中的 Python3.9 到最新。
12345678# 首先更新 conda 到最新，测试中如果当前处在 conda activate 状态下，需要更新 conda 两次conda update conda# 如果遇到更新失败，可尝试强制更新conda update --force conda# 然后更新 python 到 Anaconda 中的最新。注意，一般 Anaconda 中维护的 python 版本会低于官网最新版conda install python=3.9

当主环境版本需要大版本更新时当主环境的 Python 版本需要大版本更新，如最初安装的 Python 版本是 3. ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/05/18/rustdesk-remote-desktop/" title="远程桌面软件 RustDesk"><img class="post-bg" src="/img/c13.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="远程桌面软件 RustDesk"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/18/rustdesk-remote-desktop/" title="远程桌面软件 RustDesk">远程桌面软件 RustDesk</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-05-18T04:02:08.000Z" title="发表于 2022-05-18 12:02:08">2022-05-18</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.104Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/technology/computer-science/">computer science</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/rustdesk/">rustdesk</a></span></div><div class="content">远程办公是近几年比较流行的办公方式，这大多是由于疫情的影响。比较流行的远程桌面控制软件有中国的向日葵、德国的 Teamviewer、中国的 ToDesk、中国的 RustDesk。本篇介绍 RustDesk，不仅是因为它是国产软件，更重要它是开源的，并且能够使用自建中继服务器，这给用户保留了更好的定制性和隐私性。本篇以 Debian 10 为例演示。


安装RustDesk 提供了各平台的版本，如 Windows, Mac, Ubuntu, fedora, Android, iOS, Web 等。安装非常简单，直接从 github rustdesk下载对应的版本就好。
安装后会自动分配一个 ID 和密码，作为唯一标识。当别的客户端连接本电脑时，需要输入该 ID 和密码。
自建中继服务器默认的软件已经提供免费的中继服务器，但带宽有限，缺乏隐私性。因此，RustDesk 提供了可自建中继服务器的方法，使用自己的服务器作为桥梁连接自己的电脑，获得可控的网速以及更高的安全性。
假设你已经有了一台具有公网 IP 的 vps 服务器（硬件要求很低，最低配置的云服务器就可以了，CPU 和内存要求都 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/05/17/pandoc/" title="pandoc 标记语言转换工具"><img class="post-bg" src="/img/c17.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="pandoc 标记语言转换工具"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/17/pandoc/" title="pandoc 标记语言转换工具">pandoc 标记语言转换工具</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-05-17T05:36:05.000Z" title="发表于 2022-05-17 13:36:05">2022-05-17</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.100Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/technology/computer-science/">computer science</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/pandoc/">pandoc</a></span></div><div class="content">Pandoc 是使用 Haskell 语言编写的一款跨平台、自由开源及命令行界面的标记语言转换工具，可实现不同标记语言间的格式转换，堪称该领域中的“瑞士军刀”。本篇以 Ubuntu 18.04 为例进行演示。


安装安装  pandoc  可以通过如下方法
12sudo apt updatesudo apt install pandoc

示例使用 pandoc 可以进行很多种文本格式的转换，如 docx, markdown, textile, pdf 等等。下表更详细的列出：



Pandoc 可读取的源格式
Pandoc 可生成的目标格式



Markdown
HTML格式：包括XHTML，HTML5及HTML slide


reStructuredText
文字处理软件格式：包括docx、odt、OpenDocument XML


Textile
电子书格式：包括EPUB（第2版及第3版）、FictionBook2


HTML
技术文档格式：包括DocBook、GNU TexInfo、Groff manpages、Haddock


DocBook
页面布局格式：In ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/05/17/python-round/" title="python 中的小数舍入方法"><img class="post-bg" src="/img/c20.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="python 中的小数舍入方法"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/17/python-round/" title="python 中的小数舍入方法">python 中的小数舍入方法</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-05-17T04:09:30.000Z" title="发表于 2022-05-17 12:09:30">2022-05-17</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.104Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/technology/python/">python</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/python/">python</a></span></div><div class="content">数学中，四舍五入是我们经常使用的，用来对小数保留有效位精度，得到近似值，节省书写，如 $3.141592653589793… \approx 3.14$，这同样也方便记忆一些无理数的近似值，当计算时也比较方便。但除了四舍五入，还存在一些其他的小数舍入方法，如“四舍六入五成双”等。Python 中内置的 round 函数采用哪种舍入方法呢？


四舍五入四舍五入是我们小学时就学习的一种小数舍入方法。如
13.141592653589793...

保留 3 位小数，则为
13.142

因为，第 4 位是数值 5，根据四舍五入原则（小于等于 4 的舍去，大于等于 5 的舍入进 1），因此，进行舍入进 1.
四舍六入五成双四舍六入五成双和四舍五入的区别就是，当舍入位后没有数值，且舍入位是 5 时，需要根据舍入位前面一位的数值奇偶性进行舍入。
基本原则是：

当舍入位小于等于 4 时，舍去；
当舍入位大于等于 6 时，舍入进 1；
当舍入位等于 5 时，分两种情况：1）舍入位 5 后面有数值，则舍入进 1；2）舍入位 5 后面没有数值，看舍入位 5 前面的数值，当其是奇数时，舍入进 1，当其 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/05/07/linux-cpulimit/" title="linux 中利用 cpulimit 限制 CPU 使用率"><img class="post-bg" src="/img/c30.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="linux 中利用 cpulimit 限制 CPU 使用率"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/07/linux-cpulimit/" title="linux 中利用 cpulimit 限制 CPU 使用率">linux 中利用 cpulimit 限制 CPU 使用率</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-05-07T10:07:40.000Z" title="发表于 2022-05-07 18:07:40">2022-05-07</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.100Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/technology/linux/">linux</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/linux/">linux</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/cpulimit/">cpulimit</a></span></div><div class="content">CPU 的使用率过高会影响 Linux 系统的使用体验，如导致 CPU 温度过高，影响使用寿命等。本篇介绍如何限制 CPU 使用率，保持 Linux 系统的正常、稳定运行。以 Ubuntu 18.04 为例，所有命令以普通用户运行。


安装 cpulimitUbuntu&#x2F;Debian 系统安装方法如下：
12sudo apt updatesudo apt install cpulimit

Centos&#x2F;RedHat 系统安装方法如下：
1sudo yum install cpulimit

使用方法123# NUM 为整数值，默认为对 1 个 CPU的限制，多个 CPU 时可以累计，如 NUM * CPU_NUM# PID 为进程 ID，限制该进程的 CPU 使用率为 NUM%cpulimit -l NUM -p PID

常用参数：

-e	按照程序名限制；

-P    按照程序绝对路径限制；

-b     后台运行 cpulimit；

-f      前台运行；

-l      允许的CPU百分比，最低为1%.


注意：

更多参数可通过 man  ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/05/05/http-status-code/" title="http 状态码"><img class="post-bg" src="/img/c25.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="http 状态码"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/05/http-status-code/" title="http 状态码">http 状态码</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-05-05T08:45:55.000Z" title="发表于 2022-05-05 16:45:55">2022-05-05</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.096Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/technology/computer-science/">computer science</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/http/">http</a></span></div><div class="content">在进行网站开发中，总会遇到状态码解读问题，本篇梳理各种状态码的意义。


http 状态码分类


分类
分类描述



1**
请求已被接受，需要继续处理


2**
成功，操作被成功接收并处理


3**
重定向，需要进一步的操作以完成请求


4**
客户端错误，请求包含语法错误或无法完成请求


5**
服务器错误，服务器在处理请求的过程中发生了错误


http 状态码意义


状态码
状态码意义



100
这个临时响应是用来通知客户端它的部分请求已经被服务器接收，且仍未被拒绝。客户端应当继续发送请求的剩余部分，或者如果请求已经完成，忽略这个响应。


101
服务器根据客户端的请求切换协议。只能切换到更高级的协议，例如，切换到HTTP的新版本协议。


102
由WebDAV（RFC 2518）扩展的状态码，代表处理将被继续执行。


200
请求成功。一般用于GET与POST请求，出现此状态码是表示正常状态。


201
已创建。成功请求并创建了新的资源


202
已接受。已经接受请求，但未处理完成


203
服务器已成功处理了请求，但返回的实体头部元信息不是在原 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/04/27/python-re-regular-expressions/" title="python 正则表达式"><img class="post-bg" src="/img/c2.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="python 正则表达式"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/27/python-re-regular-expressions/" title="python 正则表达式">python 正则表达式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-04-27T06:46:28.000Z" title="发表于 2022-04-27 14:46:28">2022-04-27</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.104Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/technology/python/">python</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/python/">python</a></span></div><div class="content">Python 中一类主要的处理对象就是字符串，如何从字符串中筛选特定模式的子字符串就需要正则表达式。使用正则表达式的模式和字符串既可以是 Unicode 字符串（str），也可以是 8 为字节串（bytes）。本节介绍如何在 Python 中使用正则表达式。


正则表达式调用格式123456789101112import rere_exp = re.compile(r&#x27;xxx&#x27;, flags=flag)re_exp.match(str_instance)re_exp.findall(str_instance)re_exp.search(str_instance)re_exp.split(str_instance)# or (除了上面编译后在匹配，还可以采用下面的合成形式，实际上内部是采用上面的步骤)re.match(r&#x27;xxx&#x27;, str_instance, flags=flag)re.findall(r&#x27;xxx&#x27;, str_instance, flags=flag)...

其中，re 是 python 内置的正则表达式模 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/04/27/python-import-and-run/" title="python 中 import 介绍"><img class="post-bg" src="/img/c6.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="python 中 import 介绍"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/27/python-import-and-run/" title="python 中 import 介绍">python 中 import 介绍</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-04-27T02:59:27.000Z" title="发表于 2022-04-27 10:59:27">2022-04-27</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.100Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/technology/python/">python</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/python/">python</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/import/">import</a></span></div><div class="content">Python 中从其他模块或库中导入方法或模块的方法是利用 import 关键字，但是，当工程比较复杂时，比如分成多个类别的库；当代码需要在 jupyter 中调用工程中的模块时，工程中各模块的互相引用就显得非常重要，如果导入模块的姿势不对，将导致程序无法运行。本篇总结常用的导入方法，对 import 关键字进行介绍。


import 常规的导入方法这里不再重复，直接介绍复杂工程中或多种运行方式（命令行、ipython、jupyter 等）下模块的导入。
工程结构我这里创建了一个测试工程，目录结构如下：
123456789101112$ tree mytestmytest├── p1│   ├── __init__.py│   └── q1.py└── p2    ├── __init__.py    ├── q2.py    ├── q3.py    └── q4.py2 directories, 6 files

其中，mytest 是工程名字，p1 和 p2 分别是两个库，里面分别有模块 q1，q2 和 q3，这里给出他们的内容：
12345678910111213141516 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/04/24/deeplabcut-usage/" title="deeplabcut 位姿标注软件的安装与使用"><img class="post-bg" src="/img/c15.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="deeplabcut 位姿标注软件的安装与使用"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/24/deeplabcut-usage/" title="deeplabcut 位姿标注软件的安装与使用">deeplabcut 位姿标注软件的安装与使用</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-04-24T09:50:21.000Z" title="发表于 2022-04-24 17:50:21">2022-04-24</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.092Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/research/">research</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/research/deep-learning/">deep learning</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/dl/">dl</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/cv/">cv</a></span></div><div class="content">深度学习模型需要大量的训练数据，特别是标注数据。数据的标注非常重要，这对标注软件提出了很高的要求，易用、免费、高效的标注软件是深度学习从业人员的必备工具。deeplabcut 是一款面向位姿识别的标注软件（也可以进行模型训练），它开源、高效、易用，本篇介绍该软件的安装与简单使用。


deeplabcut 的安装假设已经按照好了 miniconda，下面介绍安装 deeplabcut
12345678git clone https://github.com/DeepLabCut/DeepLabCut.gitcd DeepLabCut/conda-environments# 如果不想克隆源代码仓库，可以直接从官网下载配置文件wget http://www.mackenziemathislab.org/s/DEEPLABCUT.yamlconda env create -f DEEPLABCUT.yaml

deeplabcut 的使用123456conda env listconda activate DEEPLABCUTpythonw -m deeplabcut# 或者，会将后台信息打 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/04/18/linux-shell-programming-basics/" title="Linux shell 编程基础"><img class="post-bg" src="/img/c21.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux shell 编程基础"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/18/linux-shell-programming-basics/" title="Linux shell 编程基础">Linux shell 编程基础</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-04-18T04:36:35.000Z" title="发表于 2022-04-18 12:36:35">2022-04-18</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.100Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/technology/linux/">linux</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/linux/">linux</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/shell/">shell</a></span></div><div class="content">shell 是一个用 C 编写的程序，是用户与系统内核之间的桥梁。其提供了一个界面，用户通过该界面访问操作系统的内核服务。Ken Thompson 的 sh 是第一种 Unix Shell，Windows Explorer 是一个典型的图形界面 Shell。其实，shell 也是一种解释性的程序设计语言，用户通过编写 shell 脚本在 Linux 上进行自动运维等。常见的 Linux shell 种类很多，如 Bourne Shell（&#x2F;usr&#x2F;bin&#x2F;sh或&#x2F;bin&#x2F;sh）、Bourne Again Shell（&#x2F;bin&#x2F;bash）、C Shell（&#x2F;usr&#x2F;bin&#x2F;csh）、K Shell（&#x2F;usr&#x2F;bin&#x2F;ksh）、Shell for Root（&#x2F;sbin&#x2F;sh）等，国内常用的是 &#x2F;bin&#x2F;bash，也是大多数 Linux 系统默认的 shell。在一般情况下，人们并不区分 Bourne Shell 和 Bou ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/10/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/#content-inner">10</a><span class="page-number current">11</span><a class="page-number" href="/page/12/#content-inner">12</a><span class="space">&hellip;</span><a class="page-number" href="/page/35/#content-inner">35</a><a class="extend next" rel="next" href="/page/12/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/silence.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Jinzhong Xu</div><div class="author-info__description">众妙之门</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">384</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">296</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">25</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xujinzh"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/xujinzh" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:xujinzhong027@outlook.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://www.mathscv.com" target="_blank" title="MathsCVBlog"><i class="fab fa-j"></i></a><a class="social-icon" href="https://xujinzh.github.io" target="_blank" title="GitHubBlog"><i class="fab fa-github-alt"></i></a><a class="social-icon" href="https://www.mathscv.com/power" target="_blank" title="MathsCVPower"><i class="fab fa-m"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">日本核污染水强排入海！</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/01/27/linux-grep/" title="linux 三剑客 - 文本查找命令 grep"><img src="/img/c26.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="linux 三剑客 - 文本查找命令 grep"/></a><div class="content"><a class="title" href="/2024/01/27/linux-grep/" title="linux 三剑客 - 文本查找命令 grep">linux 三剑客 - 文本查找命令 grep</a><time datetime="2024-01-27T10:04:18.000Z" title="发表于 2024-01-27 18:04:18">2024-01-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/01/21/ai-internlm-opencompass/" title="基于 OpenCompass 的大模型评测"><img src="/img/c29.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="基于 OpenCompass 的大模型评测"/></a><div class="content"><a class="title" href="/2024/01/21/ai-internlm-opencompass/" title="基于 OpenCompass 的大模型评测">基于 OpenCompass 的大模型评测</a><time datetime="2024-01-21T05:36:33.000Z" title="发表于 2024-01-21 13:36:33">2024-01-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/01/17/python-torch-multi-gpu-py/" title="Python 多进程使用单机多GPU加速推理"><img src="/img/c26.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python 多进程使用单机多GPU加速推理"/></a><div class="content"><a class="title" href="/2024/01/17/python-torch-multi-gpu-py/" title="Python 多进程使用单机多GPU加速推理">Python 多进程使用单机多GPU加速推理</a><time datetime="2024-01-17T06:53:55.000Z" title="发表于 2024-01-17 14:53:55">2024-01-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/01/13/ai-internlm-lmdeploy/" title="基于 LMDeploy 的大模型量化和部署"><img src="/img/c11.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="基于 LMDeploy 的大模型量化和部署"/></a><div class="content"><a class="title" href="/2024/01/13/ai-internlm-lmdeploy/" title="基于 LMDeploy 的大模型量化和部署">基于 LMDeploy 的大模型量化和部署</a><time datetime="2024-01-13T06:07:33.000Z" title="发表于 2024-01-13 14:07:33">2024-01-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/01/12/ai-internlm-personal-assistant-based-on-xtuner/" title="利用 XTuner 训练书生·浦语私人大模型助手"><img src="/img/c3.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="利用 XTuner 训练书生·浦语私人大模型助手"/></a><div class="content"><a class="title" href="/2024/01/12/ai-internlm-personal-assistant-based-on-xtuner/" title="利用 XTuner 训练书生·浦语私人大模型助手">利用 XTuner 训练书生·浦语私人大模型助手</a><time datetime="2024-01-12T11:03:54.000Z" title="发表于 2024-01-12 19:03:54">2024-01-12</time></div></div></div></div><div class="card-widget" id="card-newest-comments"><div class="item-headline"><i class="fas fa-comment-dots"></i><span>最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/"><span class="card-category-list-name">maths</span><span class="card-category-list-count">32</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/algebra/"><span class="card-category-list-name">algebra</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/mathematical-analysis/"><span class="card-category-list-name">mathematical analysis</span><span class="card-category-list-count">22</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/mathematician/"><span class="card-category-list-name">mathematician</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/optimization/"><span class="card-category-list-name">optimization</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/probability/"><span class="card-category-list-name">probability</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/topology/"><span class="card-category-list-name">topology</span><span class="card-category-list-count">1</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/research/"><span class="card-category-list-name">research</span><span class="card-category-list-count">49</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/autossh/" style="font-size: 1.1em; color: #999">autossh</a> <a href="/tags/opencompass/" style="font-size: 1.1em; color: #999">opencompass</a> <a href="/tags/limit/" style="font-size: 1.1em; color: #999">limit</a> <a href="/tags/node/" style="font-size: 1.1em; color: #999">node</a> <a href="/tags/python/" style="font-size: 1.5em; color: #99a9bf">python</a> <a href="/tags/shutdown/" style="font-size: 1.1em; color: #999">shutdown</a> <a href="/tags/data/" style="font-size: 1.1em; color: #999">data</a> <a href="/tags/vot/" style="font-size: 1.33em; color: #99a2af">vot</a> <a href="/tags/logging/" style="font-size: 1.1em; color: #999">logging</a> <a href="/tags/neural-network/" style="font-size: 1.16em; color: #999b9e">neural network</a> <a href="/tags/numpy/" style="font-size: 1.16em; color: #999b9e">numpy</a> <a href="/tags/teamviewer/" style="font-size: 1.1em; color: #999">teamviewer</a> <a href="/tags/swap/" style="font-size: 1.16em; color: #999b9e">swap</a> <a href="/tags/audio/" style="font-size: 1.1em; color: #999">audio</a> <a href="/tags/timm/" style="font-size: 1.1em; color: #999">timm</a> <a href="/tags/gui/" style="font-size: 1.1em; color: #999">gui</a> <a href="/tags/eof/" style="font-size: 1.1em; color: #999">eof</a> <a href="/tags/matlab/" style="font-size: 1.16em; color: #999b9e">matlab</a> <a href="/tags/real-number/" style="font-size: 1.16em; color: #999b9e">real number</a> <a href="/tags/excel/" style="font-size: 1.1em; color: #999">excel</a> <a href="/tags/nsfc/" style="font-size: 1.1em; color: #999">nsfc</a> <a href="/tags/llm/" style="font-size: 1.39em; color: #99a4b4">llm</a> <a href="/tags/sql/" style="font-size: 1.1em; color: #999">sql</a> <a href="/tags/rar/" style="font-size: 1.16em; color: #999b9e">rar</a> <a href="/tags/centos/" style="font-size: 1.44em; color: #99a7ba">centos</a> <a href="/tags/launchctl/" style="font-size: 1.1em; color: #999">launchctl</a> <a href="/tags/dict/" style="font-size: 1.1em; color: #999">dict</a> <a href="/tags/dice/" style="font-size: 1.1em; color: #999">dice</a> <a href="/tags/machine-learning/" style="font-size: 1.21em; color: #999ea4">machine learning</a> <a href="/tags/Chinese/" style="font-size: 1.1em; color: #999">Chinese</a> <a href="/tags/pip/" style="font-size: 1.27em; color: #99a0a9">pip</a> <a href="/tags/edge-detection/" style="font-size: 1.1em; color: #999">edge-detection</a> <a href="/tags/gradient/" style="font-size: 1.1em; color: #999">gradient</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/01/"><span class="card-archive-list-date">一月 2024</span><span class="card-archive-list-count">10</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/11/"><span class="card-archive-list-date">十一月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/10/"><span class="card-archive-list-date">十月 2023</span><span class="card-archive-list-count">5</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/09/"><span class="card-archive-list-date">九月 2023</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/08/"><span class="card-archive-list-date">八月 2023</span><span class="card-archive-list-count">16</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/07/"><span class="card-archive-list-date">七月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/06/"><span class="card-archive-list-date">六月 2023</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">五月 2023</span><span class="card-archive-list-count">5</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">384</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2019-07-16T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">420.6k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-01-31T07:57:19.197Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background: transparent"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2024 By Jinzhong Xu</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const findTrueUrl = (array) => {
    Promise.all(array.map(item =>
      fetch(item.url).then(resp => resp.json()).then(data => {
        const urlArray = data.body.match(/(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?/ig)
        if (data.user.login === 'utterances-bot') {
          return urlArray.pop()
        } else {
          return urlArray.shift()
        }
      })
    )).then(res => {
        array = array.map((i,index)=> {
          return {
            ...i,
            url: res[index]
          }
        })

        saveToLocal.set('github-newest-comments', JSON.stringify(array), 10/(60*24))
        generateHtml(array)
    });
  }

  const getComment = () => {
    fetch('https://api.github.com/repos/xujinzh/xujinzh.github.io/issues/comments?sort=updated&direction=desc&per_page=6&page=1',{
      "headers": {
        Accept: 'application/vnd.github.v3.html+json'
      }
    })
      .then(response => response.json())
      .then(data => {
        const githubArray = data.map(item => {
          return {
            'avatar': item.user.avatar_url,
            'content': changeContent(item.body_html),
            'nick': item.user.login,
            'url': item.issue_url,
            'date': item.updated_at,
            'githubUrl': item.html_url
          }
        })
        findTrueUrl(githubArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "无法获取评论，请确认相关配置是否正确"
      })
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }

        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('github-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><canvas class="fireworks" mobile="true"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = true;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="true"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="true" data-text="众,妙,之,门" data-fontsize="15px" data-random="false" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></body></html>