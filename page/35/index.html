<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>J. Xu - 众妙之门</title><meta name="author" content="Jinzhong Xu"><meta name="copyright" content="Jinzhong Xu"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="众妙之门">
<meta property="og:type" content="website">
<meta property="og:title" content="J. Xu">
<meta property="og:url" content="https://xujinzh.github.io/page/35/index.html">
<meta property="og:site_name" content="J. Xu">
<meta property="og:description" content="众妙之门">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://xujinzh.github.io/img/silence.jpg">
<meta property="article:author" content="Jinzhong Xu">
<meta property="article:tag" content="数学、计算机视觉、计算机应用技术">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://xujinzh.github.io/img/silence.jpg"><link rel="shortcut icon" href="/img/letter-j.png"><link rel="canonical" href="https://xujinzh.github.io/page/35/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'J. Xu',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2026-01-19 09:59:45'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/silence.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">417</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">322</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">28</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="J. Xu"><img class="site-icon" src="/img/letter-j.png"/><span class="site-name">J. Xu</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2020/01/10/debian-adduser-deluser/" title="Debian 系统如何增加系统用户和删除用户"><img class="post-bg" src="/img/c16.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Debian 系统如何增加系统用户和删除用户"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/01/10/debian-adduser-deluser/" title="Debian 系统如何增加系统用户和删除用户">Debian 系统如何增加系统用户和删除用户</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-01-10T02:35:11.000Z" title="发表于 2020-01-10 10:35:11">2020-01-10</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-02-21T08:36:11.202Z" title="更新于 2024-02-21 16:36:11">2024-02-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/technology/ubuntu/">ubuntu</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/ubuntu/">ubuntu</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/debian/">debian</a></span></div><div class="content">Debian 系统是一各非常优秀的 Linux 操作系统，Ubuntu 是基于 Debian 的衍生版本，具有相同的包管理工具和系统命令。有时候我们需要给 Debian 系统的服务器添加用户，那么可以通过如下命令非常简单的操作。本篇演示默认在 root 用户下操作。


使用 adduser 添加用户1adduser jinzhongxu

该命令是 Perl 脚本命令，可以交互式的创建用户，需要设置新用户密码，并同时创建同名用户组和家目录。
将该用户添加到 sudo 次组（主组名同用户名）中，使其具有 sudo 权限，命令如下
123usermod -a -G sudo jinzhongxu# orgpasswd -a jinzhongxu sudo

从 sudo 组中删除用户
1gpasswd -d jinzhongxu sudo

使用 deluser 删除用户有时候不想再使用用户了，可以删除用户，同时也可以删除该用户所有的文件，使用如下命令
1deluser --remove-all-files jinzhongxu

其他添加用户命令其实，除了上面比较方面的 Perl 脚本 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2020/01/08/nsfc-suggestion/" title="国自然申请书的一些建议"><img class="post-bg" src="/img/c5.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="国自然申请书的一些建议"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/01/08/nsfc-suggestion/" title="国自然申请书的一些建议">国自然申请书的一些建议</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-01-08T06:36:10.000Z" title="发表于 2020-01-08 14:36:10">2020-01-08</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.100Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/research/">research</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/nsfc/">nsfc</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/application/">application</a></span></div><div class="content">国家自然科学基金对于科研人员是无比重要的，除了补充科研经费，同时在一定程度上也是检验一个科研人员科研能力的试金石，如在研究思想、研究敏锐性、研究方法、同行评议等方面。那如何写出一份高质量的国自然申请书呢，这里给出一些个人建议，供参考。


写申请书之前需要问自己几个问题，根据这几个问题来撰写

（立项依据）为什么要做该项目？提出科学问题
（研究背景）是否为前沿和热点研究问题？最好列出最近5年内国内外研究进展
（研究内容）做哪些事请能够解决提出的科学问题，实现预期目标？研究内容要与立项依据提出的问题一致，且有创新性
（研究方法）具体如何去做？
（研究可行性）自己在该领域有哪些前期积累？重点介绍曾经做过的相关前期工作，自己是项目的最佳实践者，该项目能够很好的执行并完成
（研究基础）为什么自己能够做该项目？要列出与研究内容相关的学术论文

从立项依据到研究内容，从研究内容到研究方法，从研究方法到研究基础，都是一环扣一环，环环相扣，不能错节。申请书中不能出现语言错误、格式错误等。
</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2020/01/08/git-usage/" title="git 简单使用命令"><img class="post-bg" src="/img/c8.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="git 简单使用命令"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/01/08/git-usage/" title="git 简单使用命令">git 简单使用命令</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-01-08T02:17:47.000Z" title="发表于 2020-01-08 10:17:47">2020-01-08</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-08-15T11:03:45.626Z" title="更新于 2025-08-15 19:03:45">2025-08-15</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/github/">github</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/git/">git</a></span></div><div class="content">使用GitHub来保存本地代码，既能够防止代码丢失，又能够与Coders交流互动，那么如何使用git命令提交本地代码呢，下面介绍一下流程.


远程GitHub已经建有一个仓库如果远程GitHub上已经建有一个仓库，或者通过网页建成一个仓库，使用如下步骤进行
克隆远程仓库网页上打开仓库首页，找到右上角的Clone or download
使用SSH克隆仓库1git clone git@github.com:user-name/your-repo-name.git

该方法需要事先将本地用户目录下的公钥拷贝到本人GitHub网站的设置中的SSH keys中，具体方法如下：
拷贝所有内容到GitHub主页—右上角Settings—左侧SSH and GPG keys—SSH keys—New SSH key—随便写个名字在title栏，并粘贴刚刚拷贝的内容到key栏中—Add SSH key
测试SSH连接情况：
在终端中输入一下命令
1ssh -T git@github.com

如果出现 Hi your-user-name! You’ve successfully authentica ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2020/01/08/ssh-git/" title="使用SSH连接GitHub"><img class="post-bg" src="/img/c18.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用SSH连接GitHub"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/01/08/ssh-git/" title="使用SSH连接GitHub">使用SSH连接GitHub</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-01-08T01:46:12.000Z" title="发表于 2020-01-08 09:46:12">2020-01-08</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.104Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/ssh/">ssh</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/github/">github</a></span></div><div class="content">
  d7420555dbd47e034be0c72be203a7e3c0038009fbac90832eee05d64deb9f3f0acde9064836640ae6531f0b14a54f46d64019169c9d66b08b8478fcf6616b32441c1b449fe9af0bc8539dfb72d746e799631d1d4e2b67787a2434396be4b035b78ce8eecdf0c5cd4d74a7dd21d726fba6505a15199526b483d13bc7451762323ee4d35165dced9c284aa0aa23ef4d26a6c74743fe855b2defa7c0d44434d1e6a50d97d87b763fe49148dbaa9aa81cdee94af4c4b51a6fff3d906b302cdeba49207d36c09c2a2ae52df929c6c46fb61cd6819bed1a4445b2df54a8e8540d560de19663db55a58c4ced4b94524aca35290ec513903f752226b ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2020/01/07/windows10-wsl-path/" title="Windows10 子系统 Ubuntu 在硬盘上的路径"><img class="post-bg" src="/img/c5.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Windows10 子系统 Ubuntu 在硬盘上的路径"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/01/07/windows10-wsl-path/" title="Windows10 子系统 Ubuntu 在硬盘上的路径">Windows10 子系统 Ubuntu 在硬盘上的路径</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-01-07T01:37:27.000Z" title="发表于 2020-01-07 09:37:27">2020-01-07</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.108Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/ubuntu/">ubuntu</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/windows/">windows</a></span></div><div class="content">Windows10 的 Linux 子系统 Ubuntu 非常好用，能够与Windows10非常融洽的结合使用，既保留了Windows系统优秀的用户交互式，又提供了Linux系统开发的便捷，可谓是集成了两种操作系统的优点于一身。那么，如何互相访问两者的文件呢？下面给出两者相互访问的方法。


Ubuntu 访问 Windows 文件1cd /mnt/c/Users/xujin/Downloads

Windows 访问 Ubuntu 文件Ubuntu 用户家目录在Windows的如下路径
1E:\Users\xujin\AppData\Local\Packages\CanonicalGroupLimited.Ubuntu18.04onWindows_79rhkp1fndgsc\LocalState\rootfs\home\jinzhongxu

</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2020/01/02/intellij-idea-build-jar/" title="使用intellij idea 编译项目到jar包"><img class="post-bg" src="/img/c18.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用intellij idea 编译项目到jar包"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/01/02/intellij-idea-build-jar/" title="使用intellij idea 编译项目到jar包">使用intellij idea 编译项目到jar包</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-01-02T12:49:05.000Z" title="发表于 2020-01-02 20:49:05">2020-01-02</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.096Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/java/">java</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/program/">program</a></span></div><div class="content">当我使用 Java 开发 Flink 时，遇到了一个问题，那就是如何使用 Intellij Idea 编译项目成jar包。经过调研，发现有两种方法来编译项目：


使用Intellij Idea编译
点击 File

点击 Project Structure

点击 Artifacts

点击 “+” 号

点击 JAR

点击 From modules with dependencies

选择 Main Class 

点击 Apply &amp;&amp; ok

点击 Build

点击 Build Artifacts

点击 Build
该方法可参考使用Intellij Idea打包java为可执行jar包


使用Maven编译在项目工作目录下，运行如下命令
mvn clean package
以上两种方法，都可以编译 Java 项目成jar包，然后就可以提交到 Flink 集群或web下运行。
</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2020/01/02/centos-sudo-user/" title="Centos 给用户增加 sudo 权限"><img class="post-bg" src="/img/c10.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Centos 给用户增加 sudo 权限"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/01/02/centos-sudo-user/" title="Centos 给用户增加 sudo 权限">Centos 给用户增加 sudo 权限</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-01-02T12:01:08.000Z" title="发表于 2020-01-02 20:01:08">2020-01-02</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-07-17T06:57:04.859Z" title="更新于 2024-07-17 14:57:04">2024-07-17</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/technology/centos/">centos</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/linux/">linux</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/centos/">centos</a></span></div><div class="content">当给 Centos 增加新用户时，想配置新用户具有 sudo 权限，可是跟 Ubuntu 上不同，在 Ubuntu 上可以使用简单的命令


1usermod -aG sudo jinzhongxu

来给用户 jinzhongxu 增加 sudo 权限。但是，在 Centos 上却行不通，提示没有 sudo 组。那么在 Centos 上如何给用户增加 sudo 权限呢？
配置经过查看 /etc/sudoers 文件，发现 wheel 组下面的用户都可以具有 sudo 权限，因此，可以经新用户添加到 wheel 组，使其具有 sudo 权限，具体命令 (临时 root 权限) 如下
1usermod -aG wheel jinzhongxu

在命令行输入
1sudo yum update

可以发现，新用户 jinzhongxu 已经具有 sudo 权限了。
使用12# 普通用户使用 sudo 执行 root 权限清理内存sudo sync &amp;&amp; sudo -u root sh -c &quot;echo 1 &gt; /proc/sys/vm/drop_caches ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2020/01/02/centos-install-htop/" title="Centos 安装 htop"><img class="post-bg" src="/img/c22.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Centos 安装 htop"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/01/02/centos-install-htop/" title="Centos 安装 htop">Centos 安装 htop</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-01-02T11:28:45.000Z" title="发表于 2020-01-02 19:28:45">2020-01-02</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.092Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/linux/">linux</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/centos/">centos</a></span></div><div class="content">htop 是一个非常优秀好用的命令来查看系统运行情况，在Ubuntu上可以非常简单的使用命令


1sudo apt update &amp;&amp; apt install htop

安装htop
但是，在Centos 7等上却不能简单的使用一条命令安装htop，下面给出完整的命令来在Centos 7上安装htop
12345sudo yum install epel-release -ysudo yum update -ysudo yum install htop -y

到此，就正常安装了htop在Centos 7上，可以在终端运行 htop 命令来查看是否安装成功。
</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2020/01/02/install-ubuntu-no-boot-file/" title="安装 Ubuntu 时出现 no boot file found"><img class="post-bg" src="/img/c25.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="安装 Ubuntu 时出现 no boot file found"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/01/02/install-ubuntu-no-boot-file/" title="安装 Ubuntu 时出现 no boot file found">安装 Ubuntu 时出现 no boot file found</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-01-02T10:31:35.000Z" title="发表于 2020-01-02 18:31:35">2020-01-02</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.096Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/ubuntu/">ubuntu</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/windows/">windows</a></span></div><div class="content">今天一个师弟安装 Ubuntu 时重启发现无法正常进入刚安装好的 Ubuntu 系统，从系统盘启动时出现 no boot file found。他也很疑惑，明明已经正确把 ubuntu 系统安装到固态硬盘上了，为什么不能正常进入呢？他就来问我怎么解决。我第一想法就是 boot 启动设置引导项的问题，把之前的 UEFI 设置成 legacy ，仍然遇到同样的问题。我就在想，是不是系统盘的引导分区不正确。经过一系列的操作终于完成了Ubuntu系统的安装和正常启动。我的方法如下：


使用Windows启动盘首先将Windows10 启动盘插入光驱，进入安装Windows10程序，然后在安装系统之前，按住 SHIFT + F10 进入cmd
转换硬盘的引导分区在cmd中输入下列命令，把GPT（GUID Partition Table）引导分区转化为MBR（Master Boot Record）引导分区。
12345diskpartlist diskselect disk 0cleanconvert mbr

设置boot启动格式重启系统，拿出光盘，进入boot系统，设置光盘启动为第一启动项， ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2019/12/31/jupyterlab-extension/" title="jupyterlab 扩展"><img class="post-bg" src="/img/c2.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="jupyterlab 扩展"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/12/31/jupyterlab-extension/" title="jupyterlab 扩展">jupyterlab 扩展</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2019-12-31T11:53:54.000Z" title="发表于 2019-12-31 19:53:54">2019-12-31</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.096Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/python/">python</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/jupyterlab/">jupyterlab</a></span></div><div class="content">jupyterlab 代码折叠 - Collapsible_Headings按照 Github 上扩展安装步骤进行安装
1jupyter labextension install @aquirdturtle/collapsible_headings

效果如图



jupyterlab 目录 - TOC按照 Github 上扩展安装步骤进行安装
注意：如果 jupyterlab &gt;&#x3D; 3.0.0，则自带该插件功能，不需再次安装
1jupyter labextension install @jupyterlab/toc

jupyterlab 代码自动补全 - Kite按照 Github 上扩展安装步骤进行安装
安装 Kite EnginemacOS Instructions

Download the installer and open the downloaded .dmg file.
Drag the Kite icon into the Applications folder.
Run Kite.app to start the Kite Engine.

W ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2019/12/25/flink-cluster-deployment/" title="flink 分布式集群部署笔记"><img class="post-bg" src="/img/c10.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="flink 分布式集群部署笔记"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/12/25/flink-cluster-deployment/" title="flink 分布式集群部署笔记">flink 分布式集群部署笔记</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2019-12-25T01:15:21.000Z" title="发表于 2019-12-25 09:15:21">2019-12-25</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.096Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/big-data/">big data</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/flink/">flink</a></span></div><div class="content">本笔记是依据 Apache Flink 官网关于独立集群部署的步骤，进行 Flink 分布式集群部署的具体过程。虽然按照官网步骤能够完成，但是实际部署中还是会遇到一些坑，这里根据个人真实的部署过程做一个详细的记录，以备后续查阅和帮助有需要的人参考。除此之外，Flink 还可以部署在 Yarn, K8s等。


部署环境是Ubuntu 18.04.3 LTS，Java 1.8.0_231，Flink 1.9.0；三台机器，分别是master: 1.1.1.0, worker1: 1.1.1.1, worker2: 1.1.1.2，其中节点机器master作为 Jobmanager, 其他两个节点机器worker1, worker2作为TaskManager.  下面一步一步从零开始 Flink 分布式集群部署（不包括 Ubuntu 18.04.03 LTS 的安装），其中 Java 在 master, worker1, worker2 中的安装是一样，这里以master为例。Flink 部署首先在 master 配置，然后拷贝到worker1, worker2. 注意，Flink集群的运 ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/34/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/34/#content-inner">34</a><span class="page-number current">35</span><a class="page-number" href="/page/36/#content-inner">36</a><span class="space">&hellip;</span><a class="page-number" href="/page/38/#content-inner">38</a><a class="extend next" rel="next" href="/page/36/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/silence.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Jinzhong Xu</div><div class="author-info__description">众妙之门</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">417</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">322</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">28</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xujinzh"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/xujinzh" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:xujinzhong027@outlook.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://www.mathscv.com" target="_blank" title="MathsCVBlog"><i class="fab fa-j"></i></a><a class="social-icon" href="https://xujinzh.github.io" target="_blank" title="GitHubBlog"><i class="fab fa-github-alt"></i></a><a class="social-icon" href="https://www.mathscv.com/power" target="_blank" title="MathsCVPower"><i class="fab fa-m"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">日本核污染水强排入海！</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2026/01/19/docker-gogs/" title="docker 安装代码托管平台 gogs"><img src="/img/c16.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="docker 安装代码托管平台 gogs"/></a><div class="content"><a class="title" href="/2026/01/19/docker-gogs/" title="docker 安装代码托管平台 gogs">docker 安装代码托管平台 gogs</a><time datetime="2026-01-19T01:32:02.000Z" title="发表于 2026-01-19 09:32:02">2026-01-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/12/12/mac-efi-mount-operate/" title="mac 挂载和操作 EFI 双系统启动向导"><img src="/img/c1.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="mac 挂载和操作 EFI 双系统启动向导"/></a><div class="content"><a class="title" href="/2025/12/12/mac-efi-mount-operate/" title="mac 挂载和操作 EFI 双系统启动向导">mac 挂载和操作 EFI 双系统启动向导</a><time datetime="2025-12-11T16:10:48.000Z" title="发表于 2025-12-12 00:10:48">2025-12-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/04/24/windows-office-delete-review-revise/" title="word 中快速的删除或接收修订"><img src="/img/c23.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="word 中快速的删除或接收修订"/></a><div class="content"><a class="title" href="/2025/04/24/windows-office-delete-review-revise/" title="word 中快速的删除或接收修订">word 中快速的删除或接收修订</a><time datetime="2025-04-24T14:05:36.000Z" title="发表于 2025-04-24 22:05:36">2025-04-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/12/16/cplusplus-opencv/" title="c++ 中调用 opencv"><img src="/img/c7.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="c++ 中调用 opencv"/></a><div class="content"><a class="title" href="/2024/12/16/cplusplus-opencv/" title="c++ 中调用 opencv">c++ 中调用 opencv</a><time datetime="2024-12-16T09:33:13.000Z" title="发表于 2024-12-16 17:33:13">2024-12-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/12/16/ubuntu-aptitude/" title="ubuntu 包管理工具 aptitude"><img src="/img/c8.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ubuntu 包管理工具 aptitude"/></a><div class="content"><a class="title" href="/2024/12/16/ubuntu-aptitude/" title="ubuntu 包管理工具 aptitude">ubuntu 包管理工具 aptitude</a><time datetime="2024-12-16T06:38:39.000Z" title="发表于 2024-12-16 14:38:39">2024-12-16</time></div></div></div></div><div class="card-widget" id="card-newest-comments"><div class="item-headline"><i class="fas fa-comment-dots"></i><span>最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/"><span class="card-category-list-name">maths</span><span class="card-category-list-count">34</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/algebra/"><span class="card-category-list-name">algebra</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/application/"><span class="card-category-list-name">application</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/mathematical-analysis/"><span class="card-category-list-name">mathematical analysis</span><span class="card-category-list-count">22</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/mathematician/"><span class="card-category-list-name">mathematician</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/optimization/"><span class="card-category-list-name">optimization</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/probability/"><span class="card-category-list-name">probability</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/topology/"><span class="card-category-list-name">topology</span><span class="card-category-list-count">1</span></a></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/torch/" style="font-size: 1.18em; color: #999ca1">torch</a> <a href="/tags/lfs/" style="font-size: 1.1em; color: #999">lfs</a> <a href="/tags/miniconda/" style="font-size: 1.1em; color: #999">miniconda</a> <a href="/tags/gui/" style="font-size: 1.1em; color: #999">gui</a> <a href="/tags/gradient/" style="font-size: 1.1em; color: #999">gradient</a> <a href="/tags/integral/" style="font-size: 1.42em; color: #99a6b7">integral</a> <a href="/tags/openssh/" style="font-size: 1.1em; color: #999">openssh</a> <a href="/tags/openmmlab/" style="font-size: 1.42em; color: #99a6b7">openmmlab</a> <a href="/tags/probability/" style="font-size: 1.1em; color: #999">probability</a> <a href="/tags/GLIBC/" style="font-size: 1.1em; color: #999">GLIBC</a> <a href="/tags/gradio/" style="font-size: 1.1em; color: #999">gradio</a> <a href="/tags/color/" style="font-size: 1.26em; color: #999fa8">color</a> <a href="/tags/port/" style="font-size: 1.26em; color: #999fa8">port</a> <a href="/tags/neural-network/" style="font-size: 1.18em; color: #999ca1">neural network</a> <a href="/tags/internlm/" style="font-size: 1.34em; color: #99a3b0">internlm</a> <a href="/tags/samba/" style="font-size: 1.1em; color: #999">samba</a> <a href="/tags/taylor-s-formula/" style="font-size: 1.1em; color: #999">taylor's formula</a> <a href="/tags/bbr/" style="font-size: 1.1em; color: #999">bbr</a> <a href="/tags/caffeinate/" style="font-size: 1.1em; color: #999">caffeinate</a> <a href="/tags/vlc/" style="font-size: 1.1em; color: #999">vlc</a> <a href="/tags/chrome/" style="font-size: 1.18em; color: #999ca1">chrome</a> <a href="/tags/centos/" style="font-size: 1.5em; color: #99a9bf">centos</a> <a href="/tags/jetson/" style="font-size: 1.18em; color: #999ca1">jetson</a> <a href="/tags/iso/" style="font-size: 1.1em; color: #999">iso</a> <a href="/tags/inflection/" style="font-size: 1.1em; color: #999">inflection</a> <a href="/tags/convex/" style="font-size: 1.1em; color: #999">convex</a> <a href="/tags/nano/" style="font-size: 1.1em; color: #999">nano</a> <a href="/tags/screen/" style="font-size: 1.1em; color: #999">screen</a> <a href="/tags/minimist/" style="font-size: 1.1em; color: #999">minimist</a> <a href="/tags/kafka-eagle/" style="font-size: 1.1em; color: #999">kafka-eagle</a> <a href="/tags/logic/" style="font-size: 1.1em; color: #999">logic</a> <a href="/tags/hexo/" style="font-size: 1.42em; color: #99a6b7">hexo</a> <a href="/tags/template/" style="font-size: 1.1em; color: #999">template</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2026/01/"><span class="card-archive-list-date">一月 2026</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/12/"><span class="card-archive-list-date">十二月 2025</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/04/"><span class="card-archive-list-date">四月 2025</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/12/"><span class="card-archive-list-date">十二月 2024</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/11/"><span class="card-archive-list-date">十一月 2024</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/09/"><span class="card-archive-list-date">九月 2024</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/08/"><span class="card-archive-list-date">八月 2024</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/07/"><span class="card-archive-list-date">七月 2024</span><span class="card-archive-list-count">6</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">417</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2019-07-16T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">476.3k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2026-01-19T01:59:42.645Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background: transparent"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2026 By Jinzhong Xu</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const findTrueUrl = (array) => {
    Promise.all(array.map(item =>
      fetch(item.url).then(resp => resp.json()).then(data => {
        const urlArray = data.body.match(/(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?/ig)
        if (data.user.login === 'utterances-bot') {
          return urlArray.pop()
        } else {
          return urlArray.shift()
        }
      })
    )).then(res => {
        array = array.map((i,index)=> {
          return {
            ...i,
            url: res[index]
          }
        })

        saveToLocal.set('github-newest-comments', JSON.stringify(array), 10/(60*24))
        generateHtml(array)
    });
  }

  const getComment = () => {
    fetch('https://api.github.com/repos/xujinzh/xujinzh.github.io/issues/comments?sort=updated&direction=desc&per_page=6&page=1',{
      "headers": {
        Accept: 'application/vnd.github.v3.html+json'
      }
    })
      .then(response => response.json())
      .then(data => {
        const githubArray = data.map(item => {
          return {
            'avatar': item.user.avatar_url,
            'content': changeContent(item.body_html),
            'nick': item.user.login,
            'url': item.issue_url,
            'date': item.updated_at,
            'githubUrl': item.html_url
          }
        })
        findTrueUrl(githubArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "无法获取评论，请确认相关配置是否正确"
      })
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }

        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('github-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><canvas class="fireworks" mobile="true"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = true;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="true"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="true" data-text="众,妙,之,门" data-fontsize="15px" data-random="false" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></body></html>