<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>J. Xu - 众妙之门</title><meta name="author" content="Jinzhong Xu"><meta name="copyright" content="Jinzhong Xu"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="众妙之门">
<meta property="og:type" content="website">
<meta property="og:title" content="J. Xu">
<meta property="og:url" content="https://xujinzh.github.io/page/5/index.html">
<meta property="og:site_name" content="J. Xu">
<meta property="og:description" content="众妙之门">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://xujinzh.github.io/img/silence.jpg">
<meta property="article:author" content="Jinzhong Xu">
<meta property="article:tag" content="数学、计算机视觉、计算机应用技术">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://xujinzh.github.io/img/silence.jpg"><link rel="shortcut icon" href="/img/letter-j.png"><link rel="canonical" href="https://xujinzh.github.io/page/5/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'J. Xu',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-04-17 20:04:02'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/silence.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">397</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">306</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">27</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="J. Xu"><img class="site-icon" src="/img/letter-j.png"/><span class="site-name">J. Xu</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2023/08/14/ubuntu-disalbe-keyring-popup/" title="Ubuntu 停止 keyring 弹窗"><img class="post-bg" src="/img/c8.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Ubuntu 停止 keyring 弹窗"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/08/14/ubuntu-disalbe-keyring-popup/" title="Ubuntu 停止 keyring 弹窗">Ubuntu 停止 keyring 弹窗</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-08-14T07:06:25.000Z" title="发表于 2023-08-14 15:06:25">2023-08-14</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.108Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/technology/ubuntu/">ubuntu</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/ubuntu/">ubuntu</a></span></div><div class="content">Ubuntu 的密钥环是一项功能，可以在安全应用程序 (gnome-keyring) 中收集您的所有密码，并使用这些存储的密码自动登录您的各种服务。密钥环内存储的所有密码均受单个主密码的保护。当您在登录时首次提供系统密码时，密钥环将被“解锁”。启用了系统自动登录的用户可能已经注意到一条持续出现且烦人的弹出消息，显示登录密钥环在您登录计算机时未解锁。这只是 gnome-keyring 应用程序要求您输入密码，以便它可以用于对系统上的各种服务和应用程序进行身份验证。问题是，如果您仍然需要在每次重新启动某些其他应用程序时提供密码，那么自动登录并没有多大好处。在本教程中，您将了解如何在 Ubuntu Linux 系统上停用密钥环弹出窗口。

关闭 keyring 弹窗方法
打开 keyring 应用程序 passwords and keys；
在 passwords 栏下的 login 右键选择 change password；
输入当前用户的登录密码；
在输入新密码提示框不填写任何内容，直接点继续；
出现弹窗提示，直接点继续；

参考文献
How to disable keyring pop ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/08/09/python-torch-random-seed/" title="Python 中随机种子设置保证结果可复现"><img class="post-bg" src="/img/c2.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python 中随机种子设置保证结果可复现"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/08/09/python-torch-random-seed/" title="Python 中随机种子设置保证结果可复现">Python 中随机种子设置保证结果可复现</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-08-09T09:35:17.000Z" title="发表于 2023-08-09 17:35:17">2023-08-09</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.104Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/technology/python/">python</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/python/">python</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/numpy/">numpy</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/torch/">torch</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/random/">random</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/seed/">seed</a></span></div><div class="content">在使用 Python 进行科学技术、深度学习模型训练与推断时，为了结果可复现，我们尝尝需要设置固定的随机种子，而不是采用非自定义的随机种子。本篇介绍对常用的包（numpy, random, torch）设置随机种子，保证计算结果可复现。


1234567891011121314151617181920import randomimport numpy as npimport torchdef setup_seed(seed=33):    &quot;&quot;&quot;    设置随机种子函数，采用固定的随机种子使得结果可复现    seed：种子值，int    &quot;&quot;&quot;    torch.manual_seed(seed) # 为CPU设置随机种子    torch.cuda.manual_seed_all(seed) # 为所有GPU设置随机种子    np.random.seed(seed) # numpy 设置随机种子    random.seed(seed) # random 设置随机种子    # torch.backends.cudn ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/08/09/python-jupyter-notebook-clear-all-outputs-in-shell/" title="在 shell 中以命令行方式清空 jupyter notebook 的所有输出"><img class="post-bg" src="/img/c14.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="在 shell 中以命令行方式清空 jupyter notebook 的所有输出"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/08/09/python-jupyter-notebook-clear-all-outputs-in-shell/" title="在 shell 中以命令行方式清空 jupyter notebook 的所有输出">在 shell 中以命令行方式清空 jupyter notebook 的所有输出</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-08-09T09:03:08.000Z" title="发表于 2023-08-09 17:03:08">2023-08-09</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.100Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/technology/python/">python</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/python/">python</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/shell/">shell</a></span></div><div class="content">Jupyter notebook 非常方便撰写 Python 代码和 Markdown，但是，当运行输出结果较多时，导致再次打开该 .ipynb 文件非常耗时，甚至因输出结果太大而打开失败。本篇介绍如何在 shell 上以命令行的方式清空 .ipynb 的所有输出结果，方便快速打开 .ipynb 文件在 Jupyter lab 或者 Jupyter notebook 中。


清空所有输出12# 清空 notebook.ipynb 的所有 cell 输出结果，只保留代码和 Markdownjupyter nbconvert --ClearOutputPreprocessor.enabled=True --inplace notebook.ipynb

参考文献
How to Clear Jupyter Notebooks Output in All Cells from the Linux Terminal

</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/08/04/windows-wsl-install/" title="Windows 安装 Linux 子系统 wsl"><img class="post-bg" src="/img/c20.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Windows 安装 Linux 子系统 wsl"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/08/04/windows-wsl-install/" title="Windows 安装 Linux 子系统 wsl">Windows 安装 Linux 子系统 wsl</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-08-04T02:12:31.000Z" title="发表于 2023-08-04 10:12:31">2023-08-04</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.108Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/technology/windows/">windows</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/linux/">linux</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/windows/">windows</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/wsl/">wsl</a></span></div><div class="content">Windows 系统上安装 Linux 子系统 wsl(Windows Subsystem for Linux) 能够非常方便的在 Windows 系统上使用 Linux 的边界命令。重要的是 wsl 非常轻量，比 docker、VMware Workstation、VMware Fusion、VirtualBox、QEMU 等都使用更少的资源，且 wsl 是 Windows 自家开发，与 Windows 融合度更高。


安装前准备安装 wsl 需要事先打开某些功能选项，默认 windows 是将这些功能处于关闭状态。打开方法如下：

按下键盘上的 Windows 图标，打开搜索；
搜索：control，打开控制面板；
搜索：启动或关闭windows功能；
打开 启动或关闭windows功能，勾选：1，适用于 Linux 的 Windows 子系统，2，虚拟机平台;
确定，重启主机。

安装打开终端，输入如下命令安装
12345678910111213141516171819202122# 打开帮助wsl --help# 设置版本，默认有2个版本，1和2，1是使用和主机相同的IP地址 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/08/04/linux-look-domain-ip/" title="Linux 上查看某域名 IP 的几个方法"><img class="post-bg" src="/img/c22.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux 上查看某域名 IP 的几个方法"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/08/04/linux-look-domain-ip/" title="Linux 上查看某域名 IP 的几个方法">Linux 上查看某域名 IP 的几个方法</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-08-04T01:25:46.000Z" title="发表于 2023-08-04 09:25:46">2023-08-04</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.100Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/technology/linux/">linux</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/linux/">linux</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/ip/">ip</a></span></div><div class="content">本篇介绍几个使用 Linux 终端命令查看域名 IP 地址的方法，所有命令都是在 Ubuntu 上测试，以普通用户运行。


pingping 命令通过向网络主机（某域名或某 IP）发送 ICMP ECHO_REQUEST 数据包来测试网络的联通性。当 ping 的对象是某域名时，能够返回该域名的 IP 地址。
1ping arxiv.org -c 3
结果
1234PING arxiv.org (128.84.21.199) 56(84) bytes of data.--- arxiv.org ping statistics ---3 packets transmitted, 0 received, 100% packet loss, time 2029ms

fpingfping 命令类似 ping，也是通过向网络主机（某域名或某 IP）发送 ICMP ECHO_REQUEST 数据包来测试网络的联通性。与 ping 不同的是 fping 能够同时指定任意多个网络主机（域名或 IP）
安装1sudo apt update &amp;&amp; sudo apt install fp ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/07/21/ubuntu-limit-netword-card-bandwidth/" title="Ubuntu 限制网络速度"><img class="post-bg" src="/img/c14.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Ubuntu 限制网络速度"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/07/21/ubuntu-limit-netword-card-bandwidth/" title="Ubuntu 限制网络速度">Ubuntu 限制网络速度</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-07-21T06:08:07.000Z" title="发表于 2023-07-21 14:08:07">2023-07-21</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.108Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/technology/ubuntu/">ubuntu</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/ubuntu/">ubuntu</a></span></div><div class="content">本篇介绍一种限制 Ubuntu 网卡带宽的方法。


安装12sudo apt updatesudo apt install wondershaper

使用12345# 限制网卡 eno1 的带宽，下载速度为 200kb/s，上传速度为 24kb/ssudo wondershaper eno1 2000 240# 取消网卡限速sudo wondershaper clear eno1

参考文献
Ubuntu 网络限速
Wondershaper在Ubuntu中限制网卡速度带宽

</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/06/30/linux-view-compressed-file/" title="Linux 查看压缩文件内容"><img class="post-bg" src="/img/c17.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux 查看压缩文件内容"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/06/30/linux-view-compressed-file/" title="Linux 查看压缩文件内容">Linux 查看压缩文件内容</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-06-30T12:47:38.000Z" title="发表于 2023-06-30 20:47:38">2023-06-30</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.100Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/technology/linux/">linux</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/linux/">linux</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/zip/">zip</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/rar/">rar</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/tar/">tar</a></span></div><div class="content">当一个压缩包比较大的时候，如何快速知道里面的文件名称，本篇介绍 Linux 上查看压缩包内文件名称的方法。


rar 压缩包123rar v archive.rarunrar l archive.rar

zip 压缩包12345zip -sf archive.zipunzip -l archive.zipzipinfo archive.zip

参考文献
Linux下查看压缩文件内容的 10 种方法

</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/06/05/pytorch-fine-tuning-model/" title="PyTorch 迁移学习之模型结构修改和参数微调"><img class="post-bg" src="/img/c24.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="PyTorch 迁移学习之模型结构修改和参数微调"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/06/05/pytorch-fine-tuning-model/" title="PyTorch 迁移学习之模型结构修改和参数微调">PyTorch 迁移学习之模型结构修改和参数微调</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-06-05T14:05:17.000Z" title="发表于 2023-06-05 22:05:17">2023-06-05</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.104Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/technology/python/">python</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/python/">python</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/pytorch/">pytorch</a></span></div><div class="content">PyTorch 迁移学习实例。使用 resnet 模型框架在 cifar10 数据集上进行模型迁移学习。


导入依赖包123456789101112import copyimport osfrom datetime import datetimeimport matplotlib.pyplot as pltimport numpy as npimport torchimport torch.optim as optimimport visdomfrom torch import nnfrom torch.utils.data import DataLoaderfrom torchvision import datasets, models, transforms


12torch.manual_seed(33)device = torch.device(&quot;cuda&quot; if torch.cuda.is_available() else &quot;cpu&quot;)

数据读取与预处理操作数据结构数如下：
$ tree -L 2 &#x2F;disk1&#x2F ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/06/05/pytorch-model-save-and-retrain/" title="PyTorch 模型保存与再训练"><img class="post-bg" src="/img/c16.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="PyTorch 模型保存与再训练"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/06/05/pytorch-model-save-and-retrain/" title="PyTorch 模型保存与再训练">PyTorch 模型保存与再训练</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-06-05T09:05:17.000Z" title="发表于 2023-06-05 17:05:17">2023-06-05</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.104Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/technology/python/">python</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/python/">python</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/pytorch/">pytorch</a></span></div><div class="content">PyTorch 模型保存与再训练，基于 MNIST 数据集。


导入依赖包123456789import osimport matplotlib.pyplot as pltimport torchimport torch.nn as nnimport torch.nn.functional as Fimport torch.optim as optimimport torchvisionfrom torch.utils.data import DataLoader

加载数据123456789n_epochs = 10batch_size_train = 128batch_size_test = 1000learning_rate = 0.01momentum = 0.5log_interval = 20torch.manual_seed(33)device = torch.device(&quot;cuda:1&quot; if torch.cuda.is_available() else &quot;cpu&quot;)device




device(type=&#39;cu ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/06/01/linux-permanently-delete-file-dir/" title="Linux 安全（永久）删除文件和文件夹"><img class="post-bg" src="/img/c14.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux 安全（永久）删除文件和文件夹"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/06/01/linux-permanently-delete-file-dir/" title="Linux 安全（永久）删除文件和文件夹">Linux 安全（永久）删除文件和文件夹</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-06-01T07:18:54.000Z" title="发表于 2023-06-01 15:18:54">2023-06-01</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.100Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/technology/linux/">linux</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/linux/">linux</a></span></div><div class="content">Linux 系统上的文件或文件夹的安全（永久）删除常用的方法有 shred, wipe 和 srm，下面对其进行介绍。


shred 重写覆盖删除文件安装
12sudo apt updatesudo apt install shred
使用
12# 删除文件 filepath.txt shred -uvz -n 5 filepath.txt
其中，各参数含义：

u 覆盖后截断并删除文件
v 显示进度
z 最后一次用0覆盖，以隐藏覆盖操作
n 指定覆盖文件内容的次数，默认是3

更多参数及解释请使用命令 man shred 查看
该方法只能覆盖重写删除文件，无法处理文件夹。
wipe 永久删除磁存储器的文件和文件夹安装
12sudo apt updatesudo apt install wipe
使用
1wipe -rfi dirpath
其中，各参数含义：

r 递归子目录
f 强制删除，不用确认
i 显示进度

更多参数及解释请使用命令 man wipe 查看
该方法只能删除磁存储器，对于固态硬盘需要使用其他方法，如下面的方法。
srm 安全删除文件和文件夹安装
12sudo a ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/05/31/pytorch-mnist-classify/" title="PyTorch 进行 MNIST 图片分类"><img class="post-bg" src="/img/c25.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="PyTorch 进行 MNIST 图片分类"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/05/31/pytorch-mnist-classify/" title="PyTorch 进行 MNIST 图片分类">PyTorch 进行 MNIST 图片分类</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-05-31T06:05:17.000Z" title="发表于 2023-05-31 14:05:17">2023-05-31</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-30T15:35:56.104Z" title="更新于 2024-01-30 23:35:56">2024-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/technology/python/">python</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/python/">python</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/pytorch/">pytorch</a></span></div><div class="content">PyTorch 图像分类，数据集采用内置的 MNIST.


加载数据集12345678910111213import matplotlib.pyplot as pltimport numpy as npimport torchimport torchvisionimport visdomfrom torch import nnfrom torch.utils.data import DataLoaderfrom torchvision import transformstorch.manual_seed(33)device = torch.device(&quot;cuda:0&quot; if torch.cuda.is_available() else &quot;cpu&quot;)device




device(type=&#39;cuda&#39;, index=0)

12345678910111213train_ds = torchvision.datasets.MNIST(    &quot;/workspace/disk1/datasets/&quot;,    ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/4/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/#content-inner">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/#content-inner">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/37/#content-inner">37</a><a class="extend next" rel="next" href="/page/6/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/silence.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Jinzhong Xu</div><div class="author-info__description">众妙之门</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">397</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">306</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">27</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xujinzh"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/xujinzh" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:xujinzhong027@outlook.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://www.mathscv.com" target="_blank" title="MathsCVBlog"><i class="fab fa-j"></i></a><a class="social-icon" href="https://xujinzh.github.io" target="_blank" title="GitHubBlog"><i class="fab fa-github-alt"></i></a><a class="social-icon" href="https://www.mathscv.com/power" target="_blank" title="MathsCVPower"><i class="fab fa-m"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">日本核污染水强排入海！</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/04/17/maths-app-svd-image-compression/" title="奇异值分解图像压缩"><img src="/img/c15.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="奇异值分解图像压缩"/></a><div class="content"><a class="title" href="/2024/04/17/maths-app-svd-image-compression/" title="奇异值分解图像压缩">奇异值分解图像压缩</a><time datetime="2024-04-17T08:26:56.000Z" title="发表于 2024-04-17 16:26:56">2024-04-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/04/17/maths-app-pca-face-recognition/" title="PCA 人脸识别"><img src="/img/c8.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="PCA 人脸识别"/></a><div class="content"><a class="title" href="/2024/04/17/maths-app-pca-face-recognition/" title="PCA 人脸识别">PCA 人脸识别</a><time datetime="2024-04-17T06:22:59.000Z" title="发表于 2024-04-17 14:22:59">2024-04-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/04/10/install-code-server/" title="code-server 的安装与使用"><img src="/img/c16.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="code-server 的安装与使用"/></a><div class="content"><a class="title" href="/2024/04/10/install-code-server/" title="code-server 的安装与使用">code-server 的安装与使用</a><time datetime="2024-04-10T13:48:23.000Z" title="发表于 2024-04-10 21:48:23">2024-04-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/03/21/ubuntu-view-image-on-terminal/" title="ubuntu 终端上查看图像文件及元信息"><img src="/img/c21.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ubuntu 终端上查看图像文件及元信息"/></a><div class="content"><a class="title" href="/2024/03/21/ubuntu-view-image-on-terminal/" title="ubuntu 终端上查看图像文件及元信息">ubuntu 终端上查看图像文件及元信息</a><time datetime="2024-03-21T01:59:28.000Z" title="发表于 2024-03-21 09:59:28">2024-03-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/03/19/vos-cfbi-cvpr2020-tpami2021/" title="CFBI+, Collaborative Video Object Segmentation by Multi-Scale Foreground-Background Integration"><img src="/img/c16.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CFBI+, Collaborative Video Object Segmentation by Multi-Scale Foreground-Background Integration"/></a><div class="content"><a class="title" href="/2024/03/19/vos-cfbi-cvpr2020-tpami2021/" title="CFBI+, Collaborative Video Object Segmentation by Multi-Scale Foreground-Background Integration">CFBI+, Collaborative Video Object Segmentation by Multi-Scale Foreground-Background Integration</a><time datetime="2024-03-19T06:24:50.000Z" title="发表于 2024-03-19 14:24:50">2024-03-19</time></div></div></div></div><div class="card-widget" id="card-newest-comments"><div class="item-headline"><i class="fas fa-comment-dots"></i><span>最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/"><span class="card-category-list-name">maths</span><span class="card-category-list-count">34</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/algebra/"><span class="card-category-list-name">algebra</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/application/"><span class="card-category-list-name">application</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/mathematical-analysis/"><span class="card-category-list-name">mathematical analysis</span><span class="card-category-list-count">22</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/mathematician/"><span class="card-category-list-name">mathematician</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/optimization/"><span class="card-category-list-name">optimization</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/probability/"><span class="card-category-list-name">probability</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/topology/"><span class="card-category-list-name">topology</span><span class="card-category-list-count">1</span></a></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/object-detection/" style="font-size: 1.1em; color: #999">object detection</a> <a href="/tags/rustdesk/" style="font-size: 1.1em; color: #999">rustdesk</a> <a href="/tags/neural-network/" style="font-size: 1.17em; color: #999c9f">neural network</a> <a href="/tags/ssh/" style="font-size: 1.43em; color: #99a6b9">ssh</a> <a href="/tags/journalctl/" style="font-size: 1.1em; color: #999">journalctl</a> <a href="/tags/multiprocess/" style="font-size: 1.1em; color: #999">multiprocess</a> <a href="/tags/swap/" style="font-size: 1.17em; color: #999c9f">swap</a> <a href="/tags/gradient/" style="font-size: 1.1em; color: #999">gradient</a> <a href="/tags/virtualbox/" style="font-size: 1.1em; color: #999">virtualbox</a> <a href="/tags/otb/" style="font-size: 1.1em; color: #999">otb</a> <a href="/tags/minimist/" style="font-size: 1.1em; color: #999">minimist</a> <a href="/tags/kafka-eagle/" style="font-size: 1.1em; color: #999">kafka-eagle</a> <a href="/tags/mathematician/" style="font-size: 1.17em; color: #999c9f">mathematician</a> <a href="/tags/lfs/" style="font-size: 1.1em; color: #999">lfs</a> <a href="/tags/torch/" style="font-size: 1.17em; color: #999c9f">torch</a> <a href="/tags/gcc/" style="font-size: 1.17em; color: #999c9f">gcc</a> <a href="/tags/blog/" style="font-size: 1.23em; color: #999ea6">blog</a> <a href="/tags/ot/" style="font-size: 1.1em; color: #999">ot</a> <a href="/tags/wsl/" style="font-size: 1.3em; color: #99a1ac">wsl</a> <a href="/tags/gitee/" style="font-size: 1.1em; color: #999">gitee</a> <a href="/tags/topology/" style="font-size: 1.1em; color: #999">topology</a> <a href="/tags/linux/" style="font-size: 1.5em; color: #99a9bf">linux</a> <a href="/tags/cassandra/" style="font-size: 1.1em; color: #999">cassandra</a> <a href="/tags/jar/" style="font-size: 1.1em; color: #999">jar</a> <a href="/tags/indefinite-integral/" style="font-size: 1.17em; color: #999c9f">indefinite integral</a> <a href="/tags/timer/" style="font-size: 1.1em; color: #999">timer</a> <a href="/tags/ai/" style="font-size: 1.37em; color: #99a4b2">ai</a> <a href="/tags/huggingface/" style="font-size: 1.1em; color: #999">huggingface</a> <a href="/tags/linx/" style="font-size: 1.1em; color: #999">linx</a> <a href="/tags/pyqt5/" style="font-size: 1.1em; color: #999">pyqt5</a> <a href="/tags/npm/" style="font-size: 1.17em; color: #999c9f">npm</a> <a href="/tags/extremum/" style="font-size: 1.1em; color: #999">extremum</a> <a href="/tags/limit/" style="font-size: 1.1em; color: #999">limit</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/04/"><span class="card-archive-list-date">四月 2024</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/03/"><span class="card-archive-list-date">三月 2024</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/02/"><span class="card-archive-list-date">二月 2024</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/01/"><span class="card-archive-list-date">一月 2024</span><span class="card-archive-list-count">11</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/11/"><span class="card-archive-list-date">十一月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/10/"><span class="card-archive-list-date">十月 2023</span><span class="card-archive-list-count">5</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/09/"><span class="card-archive-list-date">九月 2023</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/08/"><span class="card-archive-list-date">八月 2023</span><span class="card-archive-list-count">16</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">397</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2019-07-16T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">464.4k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-04-17T12:04:00.305Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background: transparent"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2024 By Jinzhong Xu</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const findTrueUrl = (array) => {
    Promise.all(array.map(item =>
      fetch(item.url).then(resp => resp.json()).then(data => {
        const urlArray = data.body.match(/(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?/ig)
        if (data.user.login === 'utterances-bot') {
          return urlArray.pop()
        } else {
          return urlArray.shift()
        }
      })
    )).then(res => {
        array = array.map((i,index)=> {
          return {
            ...i,
            url: res[index]
          }
        })

        saveToLocal.set('github-newest-comments', JSON.stringify(array), 10/(60*24))
        generateHtml(array)
    });
  }

  const getComment = () => {
    fetch('https://api.github.com/repos/xujinzh/xujinzh.github.io/issues/comments?sort=updated&direction=desc&per_page=6&page=1',{
      "headers": {
        Accept: 'application/vnd.github.v3.html+json'
      }
    })
      .then(response => response.json())
      .then(data => {
        const githubArray = data.map(item => {
          return {
            'avatar': item.user.avatar_url,
            'content': changeContent(item.body_html),
            'nick': item.user.login,
            'url': item.issue_url,
            'date': item.updated_at,
            'githubUrl': item.html_url
          }
        })
        findTrueUrl(githubArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "无法获取评论，请确认相关配置是否正确"
      })
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }

        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('github-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><canvas class="fireworks" mobile="true"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = true;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="true"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="true" data-text="众,妙,之,门" data-fontsize="15px" data-random="false" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></body></html>