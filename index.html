<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>J. Xu - 众妙之门</title><meta name="author" content="Jinzhong Xu"><meta name="copyright" content="Jinzhong Xu"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="众妙之门">
<meta property="og:type" content="website">
<meta property="og:title" content="J. Xu">
<meta property="og:url" content="https://xujinzh.github.io/index.html">
<meta property="og:site_name" content="J. Xu">
<meta property="og:description" content="众妙之门">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://xujinzh.github.io/img/silence.jpg">
<meta property="article:author" content="Jinzhong Xu">
<meta property="article:tag" content="数学、计算机视觉、计算机应用技术">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://xujinzh.github.io/img/silence.jpg"><link rel="shortcut icon" href="/img/letter-j.png"><link rel="canonical" href="https://xujinzh.github.io/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'J. Xu',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2025-03-07 11:53:00'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/silence.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">414</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">320</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">28</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="J. Xu"><img class="site-icon" src="/img/letter-j.png"/><span class="site-name">J. Xu</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2024/12/16/cplusplus-opencv/" title="c++ 中调用 opencv"><img class="post-bg" src="/img/c29.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="c++ 中调用 opencv"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/12/16/cplusplus-opencv/" title="c++ 中调用 opencv">c++ 中调用 opencv</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-12-16T09:33:13.000Z" title="发表于 2024-12-16 17:33:13">2024-12-16</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-12-16T11:20:02.944Z" title="更新于 2024-12-16 19:20:02">2024-12-16</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/technology/c-c/">c/c++</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/c/">c++</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/opencv/">opencv</a></span></div><div class="content">本篇介绍如何在 Linux 系统（以 Ubuntu 18.04 为例）上安装 opencv，并在 c++ 代码中使用。


安装 opencv安装 opencv 的方式有两种，一种是通过 Ubuntu 的包管理器 apt 或 aptitude，另一种是通过从源码编译安装。一般包管理器安装的 opencv 版本比较低，通过编译安装可以灵活的选择不同的版本，特别是最新的版本。
包管理器安装123sudo apt update &amp;&amp; sudo apt install libopencv-dev# orsudo aptitude update &amp;&amp; sudo aptitude install libopencv-dev

编译安装主要参考 opencv 官网编译安装教程，大体步骤如下：
123456789101112131415sudo apt install -y g++ cmake git wget unzip build-essential pkg-config libgtk2.0-dev # 如果安装中遇到依赖问题，可以尝试 aptitude 来安装wg ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/12/16/ubuntu-aptitude/" title="ubuntu 包管理工具 aptitude"><img class="post-bg" src="/img/c4.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ubuntu 包管理工具 aptitude"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/12/16/ubuntu-aptitude/" title="ubuntu 包管理工具 aptitude">ubuntu 包管理工具 aptitude</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-12-16T06:38:39.000Z" title="发表于 2024-12-16 14:38:39">2024-12-16</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-12-16T06:48:00.957Z" title="更新于 2024-12-16 14:48:00">2024-12-16</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/technology/ubuntu/">ubuntu</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/ubuntu/">ubuntu</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/aptitude/">aptitude</a></span></div><div class="content">Ubuntu 的包管理工具除了 apt-get, apt 外，还有更强大的 aptitude，它能够更好的处理依赖包安装的问题。本篇简单介绍。


安装12sudo apt install updatesudo apt install aptitude

使用


命令
说明



aptitude update
更新可用的包列表


aptitude upgrade
升级可用的包


aptitude dist-upgrade
将系统升级到新的发行版


aptitude install pkgname
安装包


aptitude remove pkgname
删除包


aptitude purge pkgname
删除包及其配置文件


aptitude search string
搜索包


aptitude show pkgname
显示包的详细信息


aptitude clean
删除下载的包文件


aptitude autoclean
仅删除过期的包文件


参考文献
ubuntu更强大的包管理工具：aptitude
【解决方案】ubuntu安装libgtk2.0- ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/12/02/linux-transport-endpoint-is-not-connected/" title="transport endpoint is not connected"><img class="post-bg" src="/img/c21.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="transport endpoint is not connected"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/12/02/linux-transport-endpoint-is-not-connected/" title="transport endpoint is not connected">transport endpoint is not connected</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-12-02T05:37:05.000Z" title="发表于 2024-12-02 13:37:05">2024-12-02</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-12-02T05:44:21.350Z" title="更新于 2024-12-02 13:44:21">2024-12-02</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/technology/linux/">linux</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/linux/">linux</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/sshfs/">sshfs</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/mount/">mount</a></span></div><div class="content">linux 中使用 sshfs 挂载其他服务器硬盘或目录到本地服务器，当长时间不操作后，再次访问本地挂载点会出现  Transport endpoint is not connected，如何解决该问题？


假设本地挂载点为 &#x2F;mnt&#x2F;datafs，那么可以使用如下命令卸载掉当前挂载：
1fusermount -u /mnt/datafs



参考文献
Transport endpoint is not connected [closed]
Transport endpoint is not connected in SSHFS

</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/11/29/python-compile-package-py/" title="python 编译或打包 py 文件"><img class="post-bg" src="/img/c15.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="python 编译或打包 py 文件"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/11/29/python-compile-package-py/" title="python 编译或打包 py 文件">python 编译或打包 py 文件</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-11-29T09:11:28.000Z" title="发表于 2024-11-29 17:11:28">2024-11-29</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-12-02T02:25:52.800Z" title="更新于 2024-12-02 10:25:52">2024-12-02</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/technology/python/">python</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/python/">python</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/compile/">compile</a></span></div><div class="content">python 是一种解释性语言，其执行时先将代码编译到内存中的 PyCodeObject 中，当程序运行结束后，将 PyCodeObject 写入到硬盘的 .pyc 文件中。当下次运行时，首先检查是否有 .pyc 文件，如果找到，那么就直接载入 .pyc 文件；否则直接编译 .py 到内存中形成 PyCodeObject。.pyc 可以理解为 PyCodeObject 的持久化保存。


编译py为pyc命令行编译
12345678# compile 单个文件python -m py_compile hello.py# 编译文件夹下的所有文件，和 .py 同文件夹python -O -m compileall -b -f hello_dir# 编译后放到 __pycache__python -O -m compileall -f hello_dir

代码中编译
1234567# 单个文件import py_compilepy_compile.compile(r&#x27;hello.py&#x27;)# 多个文件import compileallcompileall.compile_ ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/11/11/python-mysql-db/" title="python 连接 mysql 数据库"><img class="post-bg" src="/img/c22.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="python 连接 mysql 数据库"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/11/11/python-mysql-db/" title="python 连接 mysql 数据库">python 连接 mysql 数据库</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-11-11T05:40:54.000Z" title="发表于 2024-11-11 13:40:54">2024-11-11</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-11-11T06:11:02.278Z" title="更新于 2024-11-11 14:11:02">2024-11-11</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/technology/python/">python</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/python/">python</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/linux/">linux</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/mysql/">mysql</a></span></div><div class="content">python 连接 mysql 数据库，可以把生产的数据存入到 mysql 数据库，从 mysql 数据库中读取数据。本篇基于 linux 简单介绍。
安装 mysql12345678910111213sudo apt updatesudo apt install mysql-server# 启动 mysqlsudo service mysql# 访问数据库mysql --defaults-file=/etc/mysql/debian.cnf# 或者查看用户名密码，然后使用用户名和密码登录cat /etc/mysql/debian.cnfmysql -u debian-sys-maint -p


创建数据库和表、支持中文12345678910111213141516171819mysql --defaults-file=/etc/mysql/debian.cnf# 查看可用数据库mysql&gt; show databases;# 创建新数据库mysql&gt; create database dro;# 创建新表mysql&gt; use dro;Database changedm ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/09/26/linux-libstdc-so-6-version/" title="libstdc++.so.6 版本问题"><img class="post-bg" src="/img/c7.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="libstdc++.so.6 版本问题"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/26/linux-libstdc-so-6-version/" title="libstdc++.so.6 版本问题">libstdc++.so.6 版本问题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-09-26T06:36:14.000Z" title="发表于 2024-09-26 14:36:14">2024-09-26</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-09-26T06:46:31.742Z" title="更新于 2024-09-26 14:46:31">2024-09-26</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/technology/linux/">linux</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/linux/">linux</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/libstdc/">libstdc</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/GLIBC/">GLIBC</a></span></div><div class="content">在运行深度学习模型时，有时候会遇到 libstdc++.so.6 过低，导致 GLIBCXX_xxx.x.xx 无法找到，可以尝试使用如下方法解决。


查看当前 GLIBC 版本1strings /usr/lib/x86_64-linux-gnu/libstdc++.so.6 | grep GLIBC

通过上面命令可以查看当前系统默认安装的各个 GLIBC版本。
查找 MINICONDA 安装的版本在 miniconda 的 lib 中安装的 libstdc++.so.6 版本一般会比系统版本高，但是，系统默认的版本没有链接到该版本。可以先查找 miniconda 安装的 libstdc++.so.6 版本
1234567find / -name &quot;libstdc++.so.6&quot; -type f# 输出结果大概如下/usr/lib/x86_64-linux-gnu/libstdc++.so.6/opt/conda/pkgs/libstdcxx-ng-11.2.0-h1234567_1/lib/libstdc++.so.6/opt/conda/envs/py38/ ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/08/28/ai-inductive-bias/" title="深度学习中的归纳偏置"><img class="post-bg" src="/img/c24.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="深度学习中的归纳偏置"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/08/28/ai-inductive-bias/" title="深度学习中的归纳偏置">深度学习中的归纳偏置</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-08-28T02:27:35.000Z" title="发表于 2024-08-28 10:27:35">2024-08-28</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-08-28T04:04:46.927Z" title="更新于 2024-08-28 12:04:46">2024-08-28</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/research/">research</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/research/deep-learning/">deep learning</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/ai/">ai</a></span></div><div class="content">在阅读人工智能，特别是深度学习相关的文章时，总会遇到 inductive bias 一词，翻译为归纳偏置。本篇介绍该词的含义。


归纳归纳法或归纳推理（Inductive reasoning），有时叫归纳逻辑。它基于对特殊的代表的有限观察，把性质或关系归结到类型。或者基于对反复再现的现象的模式的有限观察，公式表达规律。如：

冰是冷的
所有观察到的乌鸦是黑的
他总是把画像挂在钉子上

推断出普遍的命题

所有的冰都是冷的
所有乌鸦都是黑的
所有画像都是挂在钉子上

过度普遍化，在某些情况下是错的。
多数人学习的形式逻辑是演绎（演绎推理 Deductive reasoning，又叫正向推理。结论可从叫做‘前提’的已知事实‘必然地’得出推理。如果前提是真的，那么结论必然为真。如：大前提是“任何三角形只可能是锐角三角形、直角三角形和钝角三角形”，小前提是“这个三角形既不是锐角三角形，也不是钝角三角形”，结论是“这个三角形是直角三角形”）的，而归纳推理则时属于非形式逻辑。归纳论证从来就不是有约束力的，但它们可以是有说服力的。归纳推理在演绎上是无效的。
归纳偏置归纳偏置（Inductive b ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/08/26/ai-flops-in-model-or-device/" title="FLOPS 还是 FLOPs"><img class="post-bg" src="/img/c5.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="FLOPS 还是 FLOPs"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/08/26/ai-flops-in-model-or-device/" title="FLOPS 还是 FLOPs">FLOPS 还是 FLOPs</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-08-26T08:34:49.000Z" title="发表于 2024-08-26 16:34:49">2024-08-26</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-08-26T09:00:35.244Z" title="更新于 2024-08-26 17:00:35">2024-08-26</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/research/">research</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/research/deep-learning/">deep learning</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/model/">model</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/gpu/">gpu</a></span></div><div class="content">在基于深度学习的人工智能研究中，经常会出现 FLOPS 和 FLOPs，大模型时代时出现 GFLOPS、TFLOPS 等等。本篇简要介绍下。


FLOPsFLOPs 是 FLoating-point of OPerations 的缩写，表示浮点运算次数，常用来衡量算法或模型复杂度。
具体计算包括模型运行时有多少次乘法和加法。常用工具有 torchstat, thop 等。
FLOPSFLOPS 是 FLoating-point Operations Per Second 的缩写，表示每秒浮点运算次数，常用来衡量硬件的性能。
除此之外，还有 GFLOPS（Giga Floating-point Operations Per Second）、TFLOPS（Tera Floating-point Operations Per Second），它们之间的换行如下：
123456789101112# 一个MFLOPS（megaFLOPS）等于每秒一百万（=10^6）次的浮点运算1MFLOPS = 1000,000FLOPS# 一个GFLOPS（gigaFLOPS）等于每秒十亿（=10^9）次的 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/08/24/mac-mount-external-disk/" title="mac 挂载硬盘"><img class="post-bg" src="/img/c28.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="mac 挂载硬盘"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/08/24/mac-mount-external-disk/" title="mac 挂载硬盘">mac 挂载硬盘</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-08-24T04:21:47.000Z" title="发表于 2024-08-24 12:21:47">2024-08-24</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-08-24T05:23:15.883Z" title="更新于 2024-08-24 13:23:15">2024-08-24</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/technology/">technology</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/technology/mac/">mac</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/mac/">mac</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/disk/">disk</a></span></div><div class="content">Mac 上挂载 ntfs 硬盘默认无法写入，本篇介绍如何在 Mac 上挂载 ntfs 硬盘，并支持磁盘读写。


Mac 上挂载 ntfs 硬盘需要 ntfs-3g 支持，首先我们安装它。
安装1234567# 添加源brew tap gromgit/homebrew-fuse# 安装brew install gromgit/fuse/ntfs-3g-mac# 或者brew install ntfs-3g-mac

安装完成后，就可以使用了
挂载硬盘首先我们通过 USB 连接硬盘到 Mac 上，查看硬盘设备号
1diskutil list

我这里是 /dev/disk2s1 挂载到 /Volumes/My Passport。
然后卸载 mac 自动挂载（自动挂载方式无法写入)
1sudo umount /Volumes/My\ Passport

最后再使用 ntfs-3g 进行挂载
123456# 创建挂载点cdmkdir passport# 进行挂载sudo /usr/local/bin/ntfs-3g /dev/disk2s1 /Users/jinzhongxu/passpor ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/07/26/robot-jetson-librealsense-realsense-ros/" title="jetson 安装 librealsense 和 realsense-ros"><img class="post-bg" src="/img/c14.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="jetson 安装 librealsense 和 realsense-ros"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/07/26/robot-jetson-librealsense-realsense-ros/" title="jetson 安装 librealsense 和 realsense-ros">jetson 安装 librealsense 和 realsense-ros</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-07-26T10:26:59.000Z" title="发表于 2024-07-26 18:26:59">2024-07-26</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-10-16T09:59:27.509Z" title="更新于 2024-10-16 17:59:27">2024-10-16</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/research/">research</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/research/robot/">robot</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/robot/">robot</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/jetson/">jetson</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/librealsense/">librealsense</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/realsense-ros/">realsense-ros</a></span></div><div class="content">jetson 连接 d435i（Intel(R) RealSense(TM) Cameras） 后，如何在 ros2 中使用？需要安装 librealsense 和 realsense-ros，本篇介绍如何安装它们。


安装 librealsense首先请先查看 librealsense 的 github 网站，里面有关于 jetson 上配置的详细教程：https://github.com/IntelRealSense/librealsense/blob/master/doc/installation_jetson.md，主要命令如下：
1234567sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-key F6E65AC044F831AC80A06380C8B3A55A6F3EFCDE || sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-key F6E65AC044F831AC80A06380C8B3A55A6F3EFCDEsudo ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/07/18/robot-jetson-max-performance/" title="jetson orin NX 开启最大性能"><img class="post-bg" src="/img/c23.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="jetson orin NX 开启最大性能"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/07/18/robot-jetson-max-performance/" title="jetson orin NX 开启最大性能">jetson orin NX 开启最大性能</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-07-18T03:30:55.000Z" title="发表于 2024-07-18 11:30:55">2024-07-18</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-10-15T08:22:02.087Z" title="更新于 2024-10-15 16:22:02">2024-10-15</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/research/">research</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/research/robot/">robot</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/robot/">robot</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/jetson/">jetson</a></span></div><div class="content">
  06e2ac5bc284b9422305031efac35cbfd06cba0f87cae9d279990608ee5dee8501ddf9c695364603cf482e60f055c4271f30c6d4a4e9fd1502454d6cb3ce1cb54481d3ba808031fd30ca082b0f549a211dd682e29e50341dee54fea954b663ede103da6084eec99bb05123be7cee7ba718775e412e71b81b20b08597db0e59160a5db8e1c05f4fcb191b0af235f94eb215655961efead12e63ceacb0badf538c8def52b33e0e2617972522ae6fc283962d68a0126073a8ee3cccfc049d90c9172ecfeaecb874ddea9adafe58d4fbe5e6765c6db4e3c12fe93ec66a7445536e6e189f8e0aa92cb4e3126031212c8cc2c5aa3de963319aecdd9 ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/38/#content-inner">38</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/silence.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Jinzhong Xu</div><div class="author-info__description">众妙之门</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">414</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">320</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">28</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xujinzh"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/xujinzh" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:xujinzhong027@outlook.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://www.mathscv.com" target="_blank" title="MathsCVBlog"><i class="fab fa-j"></i></a><a class="social-icon" href="https://xujinzh.github.io" target="_blank" title="GitHubBlog"><i class="fab fa-github-alt"></i></a><a class="social-icon" href="https://www.mathscv.com/power" target="_blank" title="MathsCVPower"><i class="fab fa-m"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">日本核污染水强排入海！</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/12/16/cplusplus-opencv/" title="c++ 中调用 opencv"><img src="/img/c29.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="c++ 中调用 opencv"/></a><div class="content"><a class="title" href="/2024/12/16/cplusplus-opencv/" title="c++ 中调用 opencv">c++ 中调用 opencv</a><time datetime="2024-12-16T09:33:13.000Z" title="发表于 2024-12-16 17:33:13">2024-12-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/12/16/ubuntu-aptitude/" title="ubuntu 包管理工具 aptitude"><img src="/img/c4.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ubuntu 包管理工具 aptitude"/></a><div class="content"><a class="title" href="/2024/12/16/ubuntu-aptitude/" title="ubuntu 包管理工具 aptitude">ubuntu 包管理工具 aptitude</a><time datetime="2024-12-16T06:38:39.000Z" title="发表于 2024-12-16 14:38:39">2024-12-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/12/02/linux-transport-endpoint-is-not-connected/" title="transport endpoint is not connected"><img src="/img/c21.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="transport endpoint is not connected"/></a><div class="content"><a class="title" href="/2024/12/02/linux-transport-endpoint-is-not-connected/" title="transport endpoint is not connected">transport endpoint is not connected</a><time datetime="2024-12-02T05:37:05.000Z" title="发表于 2024-12-02 13:37:05">2024-12-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/11/29/python-compile-package-py/" title="python 编译或打包 py 文件"><img src="/img/c15.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="python 编译或打包 py 文件"/></a><div class="content"><a class="title" href="/2024/11/29/python-compile-package-py/" title="python 编译或打包 py 文件">python 编译或打包 py 文件</a><time datetime="2024-11-29T09:11:28.000Z" title="发表于 2024-11-29 17:11:28">2024-11-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/11/11/python-mysql-db/" title="python 连接 mysql 数据库"><img src="/img/c22.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="python 连接 mysql 数据库"/></a><div class="content"><a class="title" href="/2024/11/11/python-mysql-db/" title="python 连接 mysql 数据库">python 连接 mysql 数据库</a><time datetime="2024-11-11T05:40:54.000Z" title="发表于 2024-11-11 13:40:54">2024-11-11</time></div></div></div></div><div class="card-widget" id="card-newest-comments"><div class="item-headline"><i class="fas fa-comment-dots"></i><span>最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/"><span class="card-category-list-name">maths</span><span class="card-category-list-count">34</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/algebra/"><span class="card-category-list-name">algebra</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/application/"><span class="card-category-list-name">application</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/mathematical-analysis/"><span class="card-category-list-name">mathematical analysis</span><span class="card-category-list-count">22</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/mathematician/"><span class="card-category-list-name">mathematician</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/optimization/"><span class="card-category-list-name">optimization</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/probability/"><span class="card-category-list-name">probability</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/maths/topology/"><span class="card-category-list-name">topology</span><span class="card-category-list-count">1</span></a></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/ananconda/" style="font-size: 1.1em; color: #999">ananconda</a> <a href="/tags/audio/" style="font-size: 1.1em; color: #999">audio</a> <a href="/tags/logic/" style="font-size: 1.1em; color: #999">logic</a> <a href="/tags/random/" style="font-size: 1.1em; color: #999">random</a> <a href="/tags/pyinstaller/" style="font-size: 1.1em; color: #999">pyinstaller</a> <a href="/tags/mmcv/" style="font-size: 1.2em; color: #999da3">mmcv</a> <a href="/tags/at/" style="font-size: 1.1em; color: #999">at</a> <a href="/tags/openmmlab/" style="font-size: 1.4em; color: #99a5b6">openmmlab</a> <a href="/tags/excel/" style="font-size: 1.1em; color: #999">excel</a> <a href="/tags/kernel/" style="font-size: 1.3em; color: #99a1ac">kernel</a> <a href="/tags/neofetch/" style="font-size: 1.1em; color: #999">neofetch</a> <a href="/tags/windows10/" style="font-size: 1.2em; color: #999da3">windows10</a> <a href="/tags/convex/" style="font-size: 1.1em; color: #999">convex</a> <a href="/tags/template/" style="font-size: 1.1em; color: #999">template</a> <a href="/tags/mail/" style="font-size: 1.2em; color: #999da3">mail</a> <a href="/tags/centos/" style="font-size: 1.5em; color: #99a9bf">centos</a> <a href="/tags/gradient/" style="font-size: 1.1em; color: #999">gradient</a> <a href="/tags/matplotlib/" style="font-size: 1.3em; color: #99a1ac">matplotlib</a> <a href="/tags/go/" style="font-size: 1.1em; color: #999">go</a> <a href="/tags/minimist/" style="font-size: 1.1em; color: #999">minimist</a> <a href="/tags/research/" style="font-size: 1.1em; color: #999">research</a> <a href="/tags/caffeinate/" style="font-size: 1.1em; color: #999">caffeinate</a> <a href="/tags/import/" style="font-size: 1.2em; color: #999da3">import</a> <a href="/tags/frp/" style="font-size: 1.1em; color: #999">frp</a> <a href="/tags/host-only/" style="font-size: 1.1em; color: #999">host-only</a> <a href="/tags/antiderivatiive/" style="font-size: 1.2em; color: #999da3">antiderivatiive</a> <a href="/tags/cpulimit/" style="font-size: 1.1em; color: #999">cpulimit</a> <a href="/tags/kafka-eagle/" style="font-size: 1.1em; color: #999">kafka-eagle</a> <a href="/tags/fund/" style="font-size: 1.1em; color: #999">fund</a> <a href="/tags/server/" style="font-size: 1.2em; color: #999da3">server</a> <a href="/tags/image/" style="font-size: 1.2em; color: #999da3">image</a> <a href="/tags/zsh/" style="font-size: 1.1em; color: #999">zsh</a> <a href="/tags/cassandra/" style="font-size: 1.1em; color: #999">cassandra</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/12/"><span class="card-archive-list-date">十二月 2024</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/11/"><span class="card-archive-list-date">十一月 2024</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/09/"><span class="card-archive-list-date">九月 2024</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/08/"><span class="card-archive-list-date">八月 2024</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/07/"><span class="card-archive-list-date">七月 2024</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/04/"><span class="card-archive-list-date">四月 2024</span><span class="card-archive-list-count">5</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/03/"><span class="card-archive-list-date">三月 2024</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/02/"><span class="card-archive-list-date">二月 2024</span><span class="card-archive-list-count">3</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">414</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2019-07-16T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">1.5m</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2025-03-07T03:52:58.951Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background: transparent"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2025 By Jinzhong Xu</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const findTrueUrl = (array) => {
    Promise.all(array.map(item =>
      fetch(item.url).then(resp => resp.json()).then(data => {
        const urlArray = data.body.match(/(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?/ig)
        if (data.user.login === 'utterances-bot') {
          return urlArray.pop()
        } else {
          return urlArray.shift()
        }
      })
    )).then(res => {
        array = array.map((i,index)=> {
          return {
            ...i,
            url: res[index]
          }
        })

        saveToLocal.set('github-newest-comments', JSON.stringify(array), 10/(60*24))
        generateHtml(array)
    });
  }

  const getComment = () => {
    fetch('https://api.github.com/repos/xujinzh/xujinzh.github.io/issues/comments?sort=updated&direction=desc&per_page=6&page=1',{
      "headers": {
        Accept: 'application/vnd.github.v3.html+json'
      }
    })
      .then(response => response.json())
      .then(data => {
        const githubArray = data.map(item => {
          return {
            'avatar': item.user.avatar_url,
            'content': changeContent(item.body_html),
            'nick': item.user.login,
            'url': item.issue_url,
            'date': item.updated_at,
            'githubUrl': item.html_url
          }
        })
        findTrueUrl(githubArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "无法获取评论，请确认相关配置是否正确"
      })
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }

        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('github-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><canvas class="fireworks" mobile="true"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = true;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="true"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="true" data-text="众,妙,之,门" data-fontsize="15px" data-random="false" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></body></html>